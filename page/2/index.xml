<?xml-stylesheet href="/rss.xsl" type="text/xsl"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>PIKA☆NCHI</title>
    <link>https://imfaye.me/</link>
    <description>Recent content on PIKA☆NCHI</description>
    <generator>Hugo -- gohugo.io</generator>
    <language>en-us</language>
    <copyright>Faye</copyright>
    <lastBuildDate>Sun, 15 Jan 2023 15:04:21 +0800</lastBuildDate>
    
        <atom:link href="https://imfaye.me/index.xml" rel="self" type="application/rss+xml" />
    
    
    
        <item>
        <title>Win10 下 Linux 子系统 (WSL) 配置小记</title>
        <link>https://imfaye.me/post/wsl/</link>
        <pubDate>Sun, 21 Mar 2021 20:29:24 +0000</pubDate>
        
        <guid>https://imfaye.me/post/wsl/</guid>
        <description>PIKA☆NCHI https://imfaye.me/post/wsl/ -&lt;h2 id=&#34;网络代理配置&#34;&gt;网络代理配置&lt;/h2&gt;
&lt;p&gt;刚开始用 &lt;code&gt;apt-get&lt;/code&gt; 就被卡到。&lt;/p&gt;
&lt;p&gt;WSL1 的时候，Linux 子系统和 Windows 主机是共享一个 localhost 的。WSL2 由于通过虚拟机实现，若要访问 Windows 主机的网络，需要使用主机的 IP 地址（IP 地址可以用 &lt;code&gt;ipconfig&lt;/code&gt; 命令查看）。&lt;/p&gt;
&lt;h3 id=&#34;wsl2-环境变量配置&#34;&gt;WSL2 环境变量配置&lt;/h3&gt;
&lt;p&gt;如果是 V2rayX 的话，默认 socks5 端口是 10808，默认 http 端口是 10809。&lt;/p&gt;
&lt;p&gt;如果是 Clash for Windows 的话，默认 socks5 端口是 7891，默认 http 端口是 7890。&lt;/p&gt;
&lt;p&gt;以个人经验教训来说，http 和 socks5 两种代理方式可以都尝试一下。&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;background-color:#eed;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#658b00&#34;&gt;export&lt;/span&gt; &lt;span style=&#34;color:#00688b&#34;&gt;http_proxy&lt;/span&gt; = &lt;span style=&#34;color:#cd5555&#34;&gt;&amp;#34;socks5://&amp;lt;windows_ip&amp;gt;:&amp;lt;socks5_port&amp;gt;&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#658b00&#34;&gt;export&lt;/span&gt; &lt;span style=&#34;color:#00688b&#34;&gt;https_proxy&lt;/span&gt; = &lt;span style=&#34;color:#cd5555&#34;&gt;&amp;#34;socks5://&amp;lt;windows_ip&amp;gt;:&amp;lt;socks5_port&amp;gt;&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;git 也可以设置使用代理。&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;background-color:#eed;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;git config --global http.proxy &lt;span style=&#34;color:#cd5555&#34;&gt;&amp;#34;socks5://&amp;lt;windows_ip&amp;gt;:&amp;lt;socks5_port&amp;gt;&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;git config --global https.proxy &lt;span style=&#34;color:#cd5555&#34;&gt;&amp;#34;socks5://&amp;lt;windows_ip&amp;gt;:&amp;lt;socks5_port&amp;gt;&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;当然，如果希望每次启动的时候代理配置都生效，可以写入 &lt;code&gt;~/.bashrc&lt;/code&gt; 文件中。&lt;/p&gt;
&lt;p&gt;顺便一提查看 git 全局配置的命令是：&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;background-color:#eed;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;git config --global --list
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id=&#34;v2ray-配置&#34;&gt;V2ray 配置&lt;/h3&gt;
&lt;p&gt;在设置中要勾选上「允许来自局域网的连接」。&lt;/p&gt;
&lt;h2 id=&#34;默认-shell-设置&#34;&gt;默认 shell 设置&lt;/h2&gt;
&lt;p&gt;执行 &lt;code&gt;chsh&lt;/code&gt; 命令打开新的 WSL 窗口的时候，默认 shell 仍然没有变化。&lt;/p&gt;
&lt;p&gt;还是需要在 &lt;code&gt;~/.bashrc&lt;/code&gt; 中加上一行：&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;background-color:#eed;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;bash -c fish
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;当然如果是 zsh 还是 fish 就随意啦。&lt;/p&gt;
- https://imfaye.me/post/wsl/ - Faye</description>
        </item>
    
    
    
        <item>
        <title>一部分的日记(2019.9至2020.4)</title>
        <link>https://imfaye.me/post/dear-diary/</link>
        <pubDate>Sun, 19 Apr 2020 21:48:42 +0000</pubDate>
        
        <guid>https://imfaye.me/post/dear-diary/</guid>
        <description>PIKA☆NCHI https://imfaye.me/post/dear-diary/ -&lt;p&gt;果然，日记吧&amp;hellip;不是能全部坦诚相待的东西。这里只是一部分的真实的我。&lt;/p&gt;
&lt;h1 id=&#34;2020&#34;&gt;2020&lt;/h1&gt;
&lt;h2 id=&#34;20204&#34;&gt;2020/4&lt;/h2&gt;
&lt;h3 id=&#34;418&#34;&gt;4/18&lt;/h3&gt;
&lt;p&gt;晚上和爸爸妈妈一起去走南山绿道。刚下完雨，空气里完全是水汽。能闻到那种水汽的味道。天空暗下来，旁边是茂密的树林或竹林，有绿色的灯照出雾气，路上谁都没有。聊起了以前出去旅游的事情。去木桥那打手机的手电筒看一大片山谷里的杜鹃花。路上有小学经常闻的那种野花的幽香。后来回来半路又下雨了。淋了一场雨一起回家。爸爸说淋一场春雨不是很好吗。&lt;/p&gt;
&lt;p&gt;回来之后，洗完澡一边喝牛奶一边和妈妈看快乐大本营。&lt;/p&gt;
&lt;p&gt;我真的只想有一些这样的温馨和细小的满足就行了。像小时候一样。&lt;/p&gt;
&lt;h3 id=&#34;417&#34;&gt;4/17&lt;/h3&gt;
&lt;p&gt;想起了之前听随机波动。新闻的关注全都给了可以被数据可视化的内容。没有办法呈现出一个一目了然又蕴含爆炸性信息的东西，可能完全不会被分到注意力，也完全不会被新闻从事者所费力去挖掘。那么长的叙事，平淡的，无法给你颠覆性的视觉冲击的东西，就注定要被人忽略吗。&lt;/p&gt;
&lt;p&gt;靥足。&lt;/p&gt;
&lt;h3 id=&#34;414&#34;&gt;4/14&lt;/h3&gt;
&lt;p&gt;上午把钢炼看完了。哭了。&lt;/p&gt;
&lt;p&gt;后来心情还是不好。一直在看月曜。&lt;/p&gt;
&lt;h3 id=&#34;413&#34;&gt;4/13&lt;/h3&gt;
&lt;p&gt;感觉好久没上课了一样。&lt;/p&gt;
&lt;p&gt;妈妈买了很多吃的回来，还买了香水百合放在餐厅。外面阳光超好。我都有点想哭。&lt;/p&gt;
&lt;p&gt;晚上一直在看钢炼。&lt;/p&gt;
&lt;h3 id=&#34;411&#34;&gt;4/11&lt;/h3&gt;
&lt;p&gt;晚上菊梅姐姐他们来我们家，和妮妮聊了很久，妮妮真的成熟了好多。一起看电视，名侦，柯南什么的。晚饭的时候，我还炒了刀豆丝。&lt;/p&gt;
&lt;p&gt;说一下最近查资料有意思的事情。&lt;/p&gt;
&lt;p&gt;总是想起那个教授说的，我们检索记忆的方式，不是倒放，而是直接抽取过去某个点。&lt;/p&gt;
&lt;p&gt;人脑存储记忆的方式。回想是一个重构的过程。随着每次检索，都会改变。大脑对概念的优先级高于细节。&lt;/p&gt;
&lt;h3 id=&#34;43&#34;&gt;4/3&lt;/h3&gt;
&lt;p&gt;早上竟然就在床上听完了机器学习。这个老师好憨。&lt;/p&gt;
&lt;p&gt;看了一些语言学的视频。&lt;/p&gt;
&lt;p&gt;下午看了看瑞幸那事。想起之前听的剩余价值了。资本真的在侵压我们所有的生活空间的小角落，从公到私。压榨剩余价值，侵入，一切追求效率利润最大化。我还是觉得，它应当只作为被提供的选择出现，而不是强制性地挤压所有弹性空间。小商小贩，我们的个性化的充满生活气息的小角落，不得不和巨型资本融合。我们真的需要那么强的便利性吗，我们只是一味地被市场投喂，靥足之后进化出妖怪一样的欲望。&lt;/p&gt;
&lt;p&gt;听剩余价值，这期聊足球。&lt;/p&gt;
&lt;p&gt;英国两大工业城市，曼彻斯特，利物浦。所以曼联和利物浦一直是宿敌。&lt;/p&gt;
&lt;p&gt;有球能力和无球能力。梅西有球能力强，C罗无球能力强。而电视转播通常视线是围绕着球的，难看见无球能力。&lt;/p&gt;
&lt;h3 id=&#34;42&#34;&gt;4/2&lt;/h3&gt;
&lt;p&gt;N号房 色情 和纸片人 和真人(可是随着以后技术的发展，纸片人的同意与否是否需要被考虑) 限制级，因为小孩子分不清虚拟和现实 想象力不能被取缔&lt;/p&gt;
&lt;p&gt;并不是主体与主体之间的关系，对女性开的色情玩笑，本质上更期望获得同性的认同，女性只是工具，男性共同体的认同感，排除自己同性恋倾向的嫌疑，因为被男性共同体所鄙视&lt;/p&gt;
&lt;p&gt;对了，无线键盘到了。&lt;/p&gt;
&lt;p&gt;每天应该更有干劲一些。&lt;/p&gt;
&lt;h3 id=&#34;41&#34;&gt;4/1&lt;/h3&gt;
&lt;p&gt;今天回了江心。好久没回去过了。汽渡，过江。&lt;/p&gt;
&lt;p&gt;烧纸，然后去姨娘家吃饭，还看了小舅还在起的新房子。&lt;/p&gt;
&lt;p&gt;到的快递竟然有一个是之前的托福成绩单。&lt;/p&gt;
&lt;h2 id=&#34;20203&#34;&gt;2020/3&lt;/h2&gt;
&lt;h3 id=&#34;329&#34;&gt;3/29&lt;/h3&gt;
&lt;p&gt;不记得了。&lt;/p&gt;
&lt;p&gt;最近一直在听indigo la end的tulip，川谷果然很厉害，那种又温暖又无法挽回的失落感。&lt;/p&gt;
&lt;p&gt;可能在写樱花诗赛的诗。&lt;/p&gt;
&lt;h3 id=&#34;328&#34;&gt;3/28&lt;/h3&gt;
&lt;p&gt;看钢炼。&lt;/p&gt;
&lt;p&gt;晚上妈妈带了牛肉汤和葱油饼。吃完之后一起去走南山绿道。&lt;/p&gt;
&lt;p&gt;看远处的字。走亭廊。竞走。&lt;/p&gt;
&lt;h3 id=&#34;326&#34;&gt;3/26&lt;/h3&gt;
&lt;p&gt;昨天夜里好大的雨，好大的雷。&lt;/p&gt;
&lt;p&gt;今天终于装修的安静了一天。&lt;/p&gt;
&lt;p&gt;看魔兽战线。人与神共存。无理的，残酷的，可以怪罪到神和未知的事情上，不必那么痛苦。神所理解的善。还有后面提亚马特，被人类史所不需要的神。&lt;/p&gt;
&lt;p&gt;大概可以理解一些迷惑的展开。不过画面没得说啊，我果然是氛围感控。今天本来也下着雨，有点找到那种清冷的感觉。&lt;/p&gt;
&lt;p&gt;看见别人发了朋友圈回忆附中。啊，怎么说，当时那么有反叛精神的人也有如此传统的温情时刻吗，少年时代真的是一去不复返吗，它是作为我们的一部分隐匿在记忆里与我们共存，还是被以后的展开取代只是能找到合理的解释与去往根源的通路呢。变得正确，就变得无聊了，但也是变得靠谱成熟了。是我自己在拒绝成为独挡一面的大人吗。&lt;/p&gt;
&lt;p&gt;晚上看完了魔兽战线，梅林的花瓣，西杜丽，安娜，小恩的天之锁。喜欢闪闪，更理解三王会谈里闪闪说的孤高了，后悔，想去拯救，对宿命的否认，对人民挣扎姿态的怜悯也就是对自己的领导和对他们的侮辱。你的善良是一种割裂，是一种软弱和逃避，也因为他始终能看见未来吧，始终把现在和未来看成一个连续的整体，肯定现在就是在肯定未来，所以无需去后悔。不过对于亚瑟来说，她的确不是自己选择去成为王的，她对每一个个体都怀抱着同情吧。&lt;/p&gt;
&lt;h3 id=&#34;325&#34;&gt;3/25&lt;/h3&gt;
&lt;p&gt;晚上妈妈回来带了淮南牛肉汤，还吃了蛋挞。满足~&lt;/p&gt;
&lt;p&gt;最近觉得自己有进步的地方是，终于没有那么容易羡慕别人了。本来，自己不塑造自己，靠这种与外界的牵连也很脆弱吧。&lt;/p&gt;
&lt;h3 id=&#34;324&#34;&gt;3/24&lt;/h3&gt;
&lt;p&gt;依旧，装修的声音让人简直神经衰弱。有在看魔兽战线。喜欢闪闪。&lt;/p&gt;
&lt;p&gt;上午和红叶打电话，聊天。嗯，跳出那个框子，稳固一点弥补自己觉得应该弥补的，不用太担心会和高中一样，也不用太高地期望什么。&lt;/p&gt;
&lt;p&gt;老婆饼，榴莲酥，青团，酸奶拌香蕉。&lt;/p&gt;
&lt;p&gt;下午后来在研究吉尔伽美什和恩齐都。后来和污妖王聊了会儿天，我完全都不知道原来新加坡现在疫情愈发严重了。有点可怕。&lt;/p&gt;
&lt;p&gt;后来还和春花聊天。&lt;/p&gt;
&lt;h3 id=&#34;323&#34;&gt;3/23&lt;/h3&gt;
&lt;p&gt;听课。装修的声音也太吵了。&lt;/p&gt;
&lt;p&gt;昨天晚上看完了异度侵入的结局，有点失望。一切停在第10集就好了。&lt;/p&gt;
&lt;p&gt;中午吃了粥和汤圆。然后和妈妈出去散步。春光明媚。御龙湖那简直像是桃花岛。&lt;/p&gt;
&lt;p&gt;杨柳，樱花，草地，好多好多的海棠。完全烂漫。湖水真的像纱。縠纹一词很准确。苏轼的&amp;quot;夜阑风静縠纹平&amp;quot;。还有旁边的别墅。像童话。&lt;/p&gt;
&lt;p&gt;然后也去了南山。又看了樱花。&lt;/p&gt;
&lt;h3 id=&#34;322&#34;&gt;3/22&lt;/h3&gt;
&lt;p&gt;说起来这两天在玩FGO。贞德，玛丽女王，莫扎特。&lt;/p&gt;
&lt;p&gt;可是玩游戏真的太让人焦躁了。&lt;/p&gt;
&lt;p&gt;听了切嗣和太太的广播剧。觉得切嗣其实是比士郎温柔的。现在会觉得，过于明朗脆弱积极正确反而是一种迟钝的神经大条。敏感的温柔的，是不是最后都会像那样伤害自己。&lt;/p&gt;
&lt;p&gt;不能停下，也不是为了不破坏自己信仰的正确，而是一旦停下，被自己牺牲的人就太无辜了。而自己也知道自己以这样审判者的角度帮别人或世界裁定正义是一种不自量力的傲慢。&lt;/p&gt;
&lt;p&gt;切嗣让爱丽选择，爱丽说，若你确信自己的选择是一定正确的，就不会让我去选择了吧。你教会我的东西，你让我看到的世界，都是你转身拒绝的东西吧。爱丽并不完全知道切嗣的理想，但她几乎完全理解切嗣这个人。&lt;/p&gt;
&lt;p&gt;相信一个人。我也想啊，我会相信你，你的安利就算当下的我并不get，但存下来也许以后的日子里我们的时间线会交汇收束，知道，啊，原来那时候的你是这样想的啊。&lt;/p&gt;
&lt;p&gt;为什么可以相信一个人呢。大家都会变的，我自己都讨厌比从前更差的自己。所谓信任，还是和共同度过的时间消耗有关吧。就好像中学同学，我们之间的联结也就是那段一起度过的时光而已，之后的你的变化总也从某个时间点开始的，而我可以回溯到一个确切的源点时间段，因为不是无头无尾我完全无法触及的轨迹，所以我不会那么恐惧，所以我会莫名产生信任吗。&lt;/p&gt;
&lt;h3 id=&#34;321&#34;&gt;3/21&lt;/h3&gt;
&lt;p&gt;等妈妈下班回来，和爸妈一起去南山看了樱花，走绿道。小亭子。干涸的水库。大片的野花。竟然那儿还有住宅。&lt;/p&gt;
&lt;p&gt;dawn 草坪，那个住宅就像藏在森林和溪水里的小木屋，透出暖黄的光，像萤火，黄昏是逢魔之时么，让我觉得周围散布着绽放的蓝紫色的花。&lt;/p&gt;
&lt;h3 id=&#34;320&#34;&gt;3/20&lt;/h3&gt;
&lt;p&gt;早上难得早起。&lt;/p&gt;
&lt;p&gt;突然想到，稍微有点难过。一直以来，其实自己都很固步自封。以前也有说过吧，其实大学以来每学期的期末周反而是我最快乐的时候。可以说我无聊吧，其实我还挺喜欢看教材，复习，考试，和同学讨论，还有比成绩的孩子气。高中开始就是这样，所有人忙着竞赛忙着自招，就算是高考前一个月的晚自习里，班上的氛围都让我觉得自己在那做模拟卷复习高考是一种羞耻的行为。我喜欢英语，喜欢作文，喜欢戴着镣铐跳舞还能保留一点自己的意气，但别人从根源上脱离了镣铐，不需要小聪明，你们完全不在一条道路上竞争。大学虽然原因不一样，但大家确实也不在一条道路上，零零散散的。所以期末考试了，所有人看同样的教材，想着同样的问题，为一样的考试在努力，存在某种联结，我并不讨厌。&lt;/p&gt;
&lt;p&gt;看完了FZ。还是很心疼切嗣。&lt;/p&gt;
&lt;h3 id=&#34;319&#34;&gt;3/19&lt;/h3&gt;
&lt;p&gt;好像一直在看交换原理。晚上写作业画图画benes什么的要吐。&lt;/p&gt;
&lt;p&gt;看FZ，其实还是挺喜欢切嗣的。成王败寇而已，英雄传说又何尝不是胜者编造的华丽的假象。沉湎于骑士道，沉湎于自己的荣光和骄傲，而不去承认战争只要存在就一定是肮脏的。&lt;/p&gt;
&lt;p&gt;可是也有另一种解释我也很受触动，人需要信仰，就算不择手段可以带来结果正义，道德和大义的丧失会让人们缺乏希望，甚至活下来也不能有精神支撑继续活着。(这点上来说pp剧场版里的朱爷似乎做的很好？明明知道让人们选，他们其实不会选择自由。但这个拥有自由的选择的仪式，会让他们活得更好。)说白了，人还不是太脆弱了，我们所言的信仰，只是因为我们需要这种美丽的谎言所以才将一切美好的想象倾注于它而已。所谓大义凛然的信仰，本质上又和我们所唾弃的饭圈追idol有多大区别呢。都是因我们需要而存在的狂热。&lt;/p&gt;
&lt;p&gt;也听了剩余价值。邻近的缺失。我们真的需要便捷的网购资源吗，在全世界范围内生产成本最低的地方进行资源的压榨，破坏平衡。中央厨房追求的是标准化，消费者逐渐丧失选择权。坂本龙一对工业文明的反思，音不准的钢琴，想要脱离塑性去回归自然。&lt;/p&gt;
&lt;h3 id=&#34;318&#34;&gt;3/18&lt;/h3&gt;
&lt;p&gt;看FZ。三王会谈。王应当是孤高的吗。身而为人，却怀着非人的悲愿。王后悔的瞬间，就是对自己的统治，对拥护自己的臣民的背叛，为何不愿意接收自己的统治必然带来的影响和必然走向的宿命呢。不应当成为“正确”的奴隶。永远正确，为他人牺牲自己，是骑士，而不是王。&lt;/p&gt;
&lt;p&gt;晚上吃了很多。菠萝炒饭之后又吃了一碗酸奶拌香蕉还有草莓。&lt;/p&gt;
&lt;h3 id=&#34;317&#34;&gt;3/17&lt;/h3&gt;
&lt;p&gt;结果没做什么。&lt;/p&gt;
&lt;h3 id=&#34;316&#34;&gt;3/16&lt;/h3&gt;
&lt;p&gt;早上起来看了异度侵入12集&amp;hellip;唔，不是我期望的反转&lt;/p&gt;
&lt;p&gt;中午吃了菠萝虾仁炒饭。妈妈边在厨房做饭，我边在旁边聊天。中午，天光很亮堂。很悠闲。&lt;/p&gt;
&lt;p&gt;下午和妈妈出去了一趟。然后在小区转了一圈。啊，真的到春天了呢。上一次出去还是冬天，现在出去已经能感觉热了。&lt;/p&gt;
&lt;h3 id=&#34;315&#34;&gt;3/15&lt;/h3&gt;
&lt;p&gt;一天都在看漫画&amp;hellip;&lt;/p&gt;
&lt;p&gt;晚上听歌唱歌很high&lt;/p&gt;
&lt;p&gt;想起以前看fate那种中二感了&lt;/p&gt;
&lt;h3 id=&#34;314&#34;&gt;3/14&lt;/h3&gt;
&lt;p&gt;春天。每一年的春天在我这带着点这样的色彩。泛暖的空气。&lt;/p&gt;
&lt;p&gt;一定有夕阳的茜色。浅一点的，像淡水彩。粉色的莫扎特。再带一点橘色。&lt;/p&gt;
&lt;p&gt;也一定会想起小学三四点放学急着赶回家看一集犬夜叉的时光。初中骑自行车回家路上已经能看见夕阳拖长的影子了，是橘色的。高中总是晚自习后才回去，有点可怕。只有小学，回家的时候，放学路上可以大步走，天空还是明亮的蓝色，和犬夜叉第一个op开头一样的蓝色。&lt;/p&gt;
&lt;p&gt;竟然卡在巴黎篇没有立马继续看下去。还是因为讨厌自己吧。天赋，努力，自己争取的未来，自己维护的梦想。看着他们，会觉得自己的生活纯度太低了。&lt;/p&gt;
&lt;h3 id=&#34;313&#34;&gt;3/13&lt;/h3&gt;
&lt;p&gt;喜欢千秋第一次指挥成功后，躺在长椅上，野田妹的脸蛋被夕阳映得红红的很可爱。学长假装不知道说那是谢礼。&lt;/p&gt;
&lt;p&gt;晚上把交响情人梦第一季看完了。啊。自己要努力啊。&lt;/p&gt;
&lt;h3 id=&#34;312&#34;&gt;3/12&lt;/h3&gt;
&lt;p&gt;看交响情人梦。想起来那张图，千秋穿着黑礼服，为穿着绿裙子的野田妹打开门。&lt;/p&gt;
&lt;p&gt;所以说啊，为什么呢，现在的番很多会觉得精彩，但不能动情。交响情人梦让我想起小学的时候，也是春天回暖的时候，那种下午有点温暖有点氤氲的气氛。&lt;/p&gt;
&lt;p&gt;下午还看了红辣椒。从表现被压抑的意识的意义上来说，你不觉得网络和梦境很像吗。&lt;/p&gt;
&lt;h3 id=&#34;311&#34;&gt;3/11&lt;/h3&gt;
&lt;p&gt;似乎是这一天吧。开始看交响情人梦。好喜欢。&lt;/p&gt;
&lt;h3 id=&#34;310&#34;&gt;3/10&lt;/h3&gt;
&lt;p&gt;睡到中午。开始看视频。感觉脑袋昏昏沉沉的，都很难集中注意力。&lt;/p&gt;
&lt;p&gt;看了异度侵入11集。时间因为观察者的存在而有意义。&lt;/p&gt;
&lt;p&gt;看了PP的剧场版。&lt;/p&gt;
&lt;p&gt;以前的认知是，累的时候似乎很难做梦，现在觉得，累的时候，似乎是很难记得梦，其实也是做梦的。 是不是当现实忙碌起来的时候，现实和潜意识会分隔得更清楚呢。喜欢ID的地方甚至不在于推理或者时间线，而是潜意识，梦，还有对推理小说本身定义的探索。metadata&lt;/p&gt;
&lt;p&gt;但是，又觉得，现在的番当然也很精彩，但很难把它当成信仰那种感觉了。毕竟为世界观和某个角色买单要比为剧情买单要死心塌地得多。为什么呢，触感？要有深度的同时，还得是积极的？要有我喜欢的感情发展模式，还得很有美感？&lt;/p&gt;
&lt;p&gt;在弹幕里看见有人说春哥很像朱爷。确实，瓢哥也是原刑警。有点像哦。&lt;/p&gt;
&lt;p&gt;真的好喜欢call酱。想被他夸。&lt;/p&gt;
&lt;p&gt;然后就是，自己越来越烂了。也不想也不知道怎么亲切地和朋友保持联系。果然，多于两个人的话，我就倾向于当透明人，只想听着，把自己封闭起来默认所有对话与我无关。觉得，别人很优秀啊很可爱啊人很好啊，所有东西他们都值得，都给他们好了，我没有什么非存在不可的理由。我明明最想要的是和自己类似的同伴，一个人就好，不说话也可以相互理解，长时间不交流依然对亲切感有信心，尽管每个人都在变世界也在变可对羁绊的信念始终有坚实的基础。&lt;/p&gt;
&lt;p&gt;可是纵观我从小到大的好朋友，大部分都是很开朗很能干在世俗上可以很得心应手的人，我被她们照顾，和她们一起出去，我似乎什么也不用主动，也不用去耗费精神力去和不熟的人打交道。&lt;/p&gt;
&lt;h2 id=&#34;20201&#34;&gt;2020/1&lt;/h2&gt;
&lt;h3 id=&#34;126&#34;&gt;1/26&lt;/h3&gt;
&lt;p&gt;最近的状态太差了。每天就刷微博。有点难过，气愤，也会无感。&lt;/p&gt;
&lt;p&gt;也不学习。看DRRR。&lt;/p&gt;
&lt;p&gt;不过今天开始变高兴起来。各种苏联笑话还有网友宅家里找乐子的法子。&lt;/p&gt;
&lt;h3 id=&#34;125&#34;&gt;1/25&lt;/h3&gt;
&lt;p&gt;大年初一。反正也没出去。&lt;/p&gt;
&lt;h3 id=&#34;124&#34;&gt;1/24&lt;/h3&gt;
&lt;p&gt;嗯，除夕。&lt;/p&gt;
&lt;p&gt;吃饺子。&lt;/p&gt;
&lt;p&gt;在客厅看春晚。贾玲和开心麻花两个小品其实也挺好笑的。&lt;/p&gt;
&lt;h3 id=&#34;118&#34;&gt;1/18&lt;/h3&gt;
&lt;p&gt;又是头晕的一天。&lt;/p&gt;
&lt;p&gt;看庆余年看到后面不想看了。价值观不合吧。还是爽文。&lt;/p&gt;
&lt;p&gt;你没有办法站在自己完全不平衡的时代背景，教育程度，文化水平去批判那个时代的人们。大多数情况下，你也当不了男主，也没有贵人相助，就这样随心所欲逆天改命去践行自己就算是正确的价值观，也太狂妄了。百姓不知道，你告诉他们他们也怕知道。兴，百姓苦，亡，百姓苦，但水能载舟亦能覆舟，历史里没有他们的名字，但他们确确实实就是历史的主体。&lt;/p&gt;
&lt;p&gt;后来看了无人知晓。&lt;/p&gt;
&lt;h3 id=&#34;15&#34;&gt;1/5&lt;/h3&gt;
&lt;p&gt;复习算法，在二楼小教室。还挺投入的。一直看到两点。去咖喱屋吃牛肉饼咖喱饭。&lt;/p&gt;
&lt;p&gt;回来趴着看了好久MV什么的。&lt;/p&gt;
&lt;p&gt;晚上下雪了。下得可大了。絮絮扬扬的。地上白白的一层，亮晶晶的。&lt;/p&gt;
&lt;h1 id=&#34;2019&#34;&gt;2019&lt;/h1&gt;
&lt;h2 id=&#34;201912&#34;&gt;2019/12&lt;/h2&gt;
&lt;h3 id=&#34;1230&#34;&gt;12/30&lt;/h3&gt;
&lt;p&gt;今天一天在看编译原理。明天要考试了，为什么今天还是觉得这么轻松，心态像是回到了小学初中那会儿。&lt;/p&gt;
&lt;p&gt;吃晚饭回来路上中彩了&amp;hellip;乌鸦叫得好大声，树上，天空里，全是的，有点吓人，今天风很大还很冷。&lt;/p&gt;
&lt;p&gt;我是不是应该稍微紧张一点&amp;hellip;&lt;/p&gt;
&lt;p&gt;为什么，最近尤其容易想乱七八糟的事，想要一个拥抱什么的。昨天晚上听剩余价值要不要同居那一期。总之，感情是会越来越坏的。我感觉自己也是理智上都释然不抱希望了，但作为我这个个体来讲，拥有那种童话一般的纯净的希冀好像是我的一个特性，我没办法变成那样洒脱的开化的人，总有怯懦的纯真的稚气。&lt;/p&gt;
&lt;h3 id=&#34;1228&#34;&gt;12/28&lt;/h3&gt;
&lt;p&gt;在二楼大教室看操作系统。&lt;/p&gt;
&lt;p&gt;中午去咖喱屋吃了照烧鸡排饭。坐在玻璃窗旁的位置。外面是冬天的街道。窗台边有花。想起了什么。微微明亮的，冬天干净的，街道市景。像玉响。&lt;/p&gt;
&lt;p&gt;大家为什么总是这样，示弱的同时也暗戳戳保留着秘密在炫耀。总有被避开的无助感。&lt;/p&gt;
&lt;p&gt;又自闭了。&lt;/p&gt;
&lt;h3 id=&#34;1221&#34;&gt;12/21&lt;/h3&gt;
&lt;p&gt;在寝室呆了一天。效率略低。&lt;/p&gt;
&lt;p&gt;数学竞赛竟然是一等奖。有点惊讶&amp;hellip;&lt;/p&gt;
&lt;p&gt;晚上吃完饭和逸菲散步，楼里一层一层地转。&lt;/p&gt;
&lt;p&gt;抓紧复习啊你！&lt;/p&gt;
&lt;h3 id=&#34;1219&#34;&gt;12/19&lt;/h3&gt;
&lt;p&gt;下午健美操课录视频看了看队形。&lt;/p&gt;
&lt;p&gt;晚上去吃了付小姐在成都。串串。酸辣粉。红糖糍粑。小酥肉。冰粉。&lt;/p&gt;
&lt;p&gt;晚上听了那个日本文化讲座。江户时期的庶民文化。&lt;/p&gt;
&lt;p&gt;歌舞伎 倾斜；城下町；葛饰北斋 神奈川冲 浪里（停顿是这样的,冲是海域的意思）&lt;/p&gt;
&lt;p&gt;《日本人的心理结构》 依赖心理 娇宠 同性恋情感 夏目漱石 心&lt;/p&gt;
&lt;p&gt;后来我还提问了。反正全都不认识，一点不丢人。&lt;/p&gt;
&lt;h3 id=&#34;1217&#34;&gt;12/17&lt;/h3&gt;
&lt;p&gt;下午计网去实验室配路由器。juniper&lt;/p&gt;
&lt;p&gt;最后终于通了嘻嘻。一直到八点才走。&lt;/p&gt;
&lt;p&gt;报名托福！别浪费了钱啊！&lt;/p&gt;
&lt;h3 id=&#34;1212&#34;&gt;12/12&lt;/h3&gt;
&lt;p&gt;上午在干什么呢。好像在写操作系统的实验报告。&lt;/p&gt;
&lt;p&gt;在听indigo的骤然恋情。有点悲伤。&lt;/p&gt;
&lt;p&gt;下午体育课依旧在练队形。&lt;/p&gt;
&lt;p&gt;晚上和胖胖燕南慧慧一起去悸动，去吃烤冷面，去买小熊饼干。&lt;/p&gt;
&lt;p&gt;希望indigo可以让我感动。我最近有点太脆弱了。&lt;/p&gt;
&lt;p&gt;晚上去疆进酒看演出。找靠边的地方放了包靠着。&lt;/p&gt;
&lt;p&gt;一首一首接着唱。到后面我完全沉醉。陪伴我刷数学的歌，这几天陪我悲伤质疑自己的歌。&lt;/p&gt;
&lt;p&gt;巩哥穿白色卫衣，很有少年感，跟着节奏摇摆，就很帅啊。&lt;/p&gt;
&lt;p&gt;回来的地铁和公交车，人都不多。&lt;/p&gt;
&lt;p&gt;很久没有过的，也和L同学在朋友圈说了一言两语。去年这时候，课巨多的时候，我好像特喜欢在宿舍自习室，当时很期待朋友圈各种互动呢。&lt;/p&gt;
&lt;h3 id=&#34;129&#34;&gt;12/9&lt;/h3&gt;
&lt;p&gt;昨天晚上没睡好。&lt;/p&gt;
&lt;p&gt;中午回来看psycho pass。看完第一季了。哭的我。&lt;/p&gt;
&lt;h3 id=&#34;125-1&#34;&gt;12/5&lt;/h3&gt;
&lt;p&gt;昨天晚上看了before sunrise&lt;/p&gt;
&lt;p&gt;太浪漫了。火车上窗边聊天，临时起意跟他下车，唱片店偷瞄，在维也纳四处游荡，遇见路人，摩天轮，诗人&lt;/p&gt;
&lt;p&gt;一刻的，一瞬的，那是最接近于完满的。没办法做到不期待理想的永恒的什么。&lt;/p&gt;
&lt;p&gt;早上起得挺晚。&lt;/p&gt;
&lt;p&gt;体育课之后去村上一屋吃寿喜锅，乌冬面，三文鱼寿司，榴莲芝士大卷。之后还去旁边味多美买了老婆饼。&lt;/p&gt;
&lt;p&gt;去旁听英语口译课。李开复的ted演讲。原来labor有分娩的意思，deliver也有。&lt;/p&gt;
&lt;p&gt;晚上在宿舍玩你说我猜。唉，我好没常识的。后来还开始比划。&lt;/p&gt;
&lt;h3 id=&#34;123&#34;&gt;12/3&lt;/h3&gt;
&lt;p&gt;今天天气好好，风也不大，也不冷。&lt;/p&gt;
&lt;p&gt;想出去玩但没契机。&lt;/p&gt;
&lt;p&gt;看了modern love第六集和第七集的一半。&lt;/p&gt;
&lt;p&gt;I&amp;rsquo;m really proud of you. 所谓父爱&lt;/p&gt;
&lt;p&gt;看before sunset&lt;/p&gt;
&lt;p&gt;太好看了！&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&amp;hellip;he&amp;rsquo;s there. He&amp;rsquo;s there, in both moments, simultaneously.&lt;/p&gt;
&lt;p&gt;And just for an instant, all his life is just folding in on itself.&lt;/p&gt;
&lt;p&gt;And it&amp;rsquo;s obvious to him that time is a lie.&lt;/p&gt;
&lt;p&gt;&amp;hellip;and inside every moment is another moment&amp;hellip;&lt;/p&gt;
&lt;p&gt;&amp;hellip;all happening simultaneously.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;blockquote&gt;
&lt;p&gt;&amp;hellip;you know, to be in the moment. I mean, I feel like I&amp;rsquo;m&amp;hellip;&lt;/p&gt;
&lt;p&gt;&amp;hellip;designed to be slightly dissatisfied with everything, you know?&lt;/p&gt;
&lt;p&gt;It&amp;rsquo;s like always trying to better my situation.&lt;/p&gt;
&lt;p&gt;I satisfy one desire, and it just agitates another.&lt;/p&gt;
&lt;p&gt;And then I think, to hell with it, right? Desire&amp;rsquo;s the fuel of life.&lt;/p&gt;
&lt;p&gt;I don&amp;rsquo;t know. Not wanting anything, isn&amp;rsquo;t that a symptom of depression?&lt;/p&gt;
&lt;p&gt;I like that we have those ever-renewing desires, you know?&lt;/p&gt;
&lt;p&gt;Maybe it&amp;rsquo;s this sense of entitlement.&lt;/p&gt;
&lt;p&gt;You know, like whenever you feel like you deserve that new pair of shoes?&lt;/p&gt;
&lt;p&gt;It&amp;rsquo;s okay to want things, as long as you aren&amp;rsquo;t pissed off if you don&amp;rsquo;t get them.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;blockquote&gt;
&lt;p&gt;He looked like he needed help, but his first reaction was to photograph him.&lt;/p&gt;
&lt;p&gt;&amp;hellip;totally detached from the person.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;blockquote&gt;
&lt;p&gt;People just have an affair, or even entire relationships&amp;hellip;&lt;/p&gt;
&lt;p&gt;&amp;hellip;they break up and they forget.&lt;/p&gt;
&lt;p&gt;They move on like they would have changed brand of cereals.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;blockquote&gt;
&lt;p&gt;I was looking at chestnuts falling from the trees, rolling on the sidewalk&amp;hellip;&lt;/p&gt;
&lt;p&gt;&amp;hellip;or ants crossing the road, the way a leaf casts a shadow on a tree trunk.&lt;/p&gt;
&lt;p&gt;Little things.&lt;/p&gt;
&lt;p&gt;I think it&amp;rsquo;s the same with people.&lt;/p&gt;
&lt;p&gt;I see in them little details, so specific to each of them&amp;hellip;&lt;/p&gt;
&lt;p&gt;&amp;hellip;that move me and that I miss and will always miss.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;blockquote&gt;
&lt;p&gt;I remember thinking at the time&amp;hellip;&lt;/p&gt;
&lt;p&gt;&amp;hellip;that so many of the men that I admired most&amp;hellip;&lt;/p&gt;
&lt;p&gt;&amp;hellip;that their lives were dedicated to something greater than themselves.&lt;/p&gt;
&lt;p&gt;So you got married because men you admired were married?&lt;/p&gt;
&lt;p&gt;No, no. It&amp;rsquo;s more like I had this&amp;hellip; This idea of my best self, you know?&lt;/p&gt;
&lt;p&gt;And I wanted to pursue that&amp;hellip;&lt;/p&gt;
&lt;p&gt;&amp;hellip;even if it might have been overriding my honest self.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;blockquote&gt;
&lt;p&gt;It reminded me how genuinely romantic I was&amp;hellip;&lt;/p&gt;
&lt;p&gt;&amp;hellip;how I had so much hope in things&amp;hellip;&lt;/p&gt;
&lt;p&gt;&amp;hellip;and now it&amp;rsquo;s like I don&amp;rsquo;t believe in anything that relates to love.&lt;/p&gt;
&lt;p&gt;I don&amp;rsquo;t feel things for people anymore.&lt;/p&gt;
&lt;p&gt;In a way, I put all my romanticism into that one night&amp;hellip;&lt;/p&gt;
&lt;p&gt;&amp;hellip;and I was never able to feel all this again.&lt;/p&gt;
&lt;p&gt;Like, somehow this night took things away from me&amp;hellip;&lt;/p&gt;
&lt;p&gt;&amp;hellip;and I expressed them to you, and you took them with you.&lt;/p&gt;
&lt;p&gt;It made me feel cold, like love wasn&amp;rsquo;t for me.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;如果可以有那样的人的话，想一起去巴黎，在塞纳河边聊天。&lt;/p&gt;
&lt;p&gt;心情很好。去南门的路上给妈妈打电话。很美好很平静。I regain my peace.&lt;/p&gt;
&lt;p&gt;去悸动吃了一碗双皮奶芋圆一号。&lt;/p&gt;
&lt;p&gt;晚上也去吃了饭，回来还吃了思如的炸鸡。&lt;/p&gt;
&lt;p&gt;晚上一直在搞百度云的限速&amp;hellip;aria2, proxyee down, 直链插件+idm, 直链+vlc网络串流&lt;/p&gt;
&lt;h2 id=&#34;201911&#34;&gt;2019/11&lt;/h2&gt;
&lt;h3 id=&#34;1129&#34;&gt;11/29&lt;/h3&gt;
&lt;p&gt;上午把操作系统的生产者消费者实验报告写了。&lt;/p&gt;
&lt;p&gt;下午第一节课去和胖胖一起听了他们的数学课。人很少，很舒坦，我在补编译原理作业。&lt;/p&gt;
&lt;p&gt;后来编译原理一节课之后就溜了。去自习室看modern love（大概是因为前一天四点醒来，听了一个小时剩余价值）&lt;/p&gt;
&lt;p&gt;doorman的故事最后还挺感人的。&lt;/p&gt;
&lt;p&gt;晚上下雪了。初雪。还挺大的。&lt;/p&gt;
&lt;p&gt;我走到外面给秋阳打电话。不想看书了，于是早早回宿舍，路上给妈妈打电话，下雪了，前几天都没睡好。&lt;/p&gt;
&lt;p&gt;晚上继续看modern love. 安妮海瑟薇演的那一集，bipolar girl&lt;/p&gt;
&lt;p&gt;初雪，你有想一起看初雪的人吗。你有想陪伴在冬天的温暖灯光下，温热白汽旁，看雪的人吗。&lt;/p&gt;
&lt;h3 id=&#34;1121&#34;&gt;11/21&lt;/h3&gt;
&lt;p&gt;开始写了点算法。其实我也不讨厌写代码吧，更擅长一点就好了&amp;hellip;我很害怕。&lt;/p&gt;
&lt;p&gt;中午写给胖胖生日的信和贺卡。习惯照顾别人的人自己也要被照顾好呀。&lt;/p&gt;
&lt;p&gt;晚上喝了芋泥珍奶。一起去吃赤焰。吃得好饱。炒乌冬，猪五花，牛嫩肩，和风麻薯（炸的，蘸草莓冰淇淋），菌菇拼盘。&lt;/p&gt;
&lt;h3 id=&#34;1117&#34;&gt;11/17&lt;/h3&gt;
&lt;p&gt;写形式与政策。人类命运共同体。扯到了赵汀阳的天下体系。&lt;/p&gt;
&lt;p&gt;风也太大了，打篮球的和看篮球的都还好吗&amp;hellip;&lt;/p&gt;
&lt;h3 id=&#34;119&#34;&gt;11/9&lt;/h3&gt;
&lt;p&gt;在教室看OS，做笔记。莫名觉得很悠闲。&lt;/p&gt;
&lt;p&gt;中午回宿舍和逸菲一起出去吃了牛肉汤和饼，回来思如还分了鸡米花和蛋挞&amp;gt;&amp;lt;&lt;/p&gt;
&lt;p&gt;小重山。笛子好欢快。突然觉得我爱的江南小调，就是笛子那个音色。填了北师一个问卷。觉得自己意外是一个正派的人哈哈哈。&lt;/p&gt;
&lt;p&gt;听剩余价值。莎翁的创作欲来源于overplus will 不似骄阳 生死爱欲&lt;/p&gt;
&lt;p&gt;晚上和逸菲一起回宿舍，逛旁边小超市还逛了好久，买了辣条回来吃。&lt;/p&gt;
&lt;h3 id=&#34;115&#34;&gt;11/5&lt;/h3&gt;
&lt;p&gt;一个语言没有很强的冒犯性，也就没有很强的幽默感。听剩余价值。汉德克 戏剧 骂观众&lt;/p&gt;
&lt;h3 id=&#34;112&#34;&gt;11/2&lt;/h3&gt;
&lt;p&gt;早上很早就起来了，去做北马志愿。京东仓库。&lt;/p&gt;
&lt;p&gt;和经管院的那个女生一起在后面拆袋子。还挺开心。&lt;/p&gt;
&lt;p&gt;后来一起装袋子。再后来吃盒饭，有去和之前军训那个小姐姐说话。&lt;/p&gt;
&lt;p&gt;下午回来之后复习编译原理。好累好困。&lt;/p&gt;
&lt;p&gt;晚上胖胖和菁璇都来我们宿舍侃，很热闹，她们都是明天早上的志愿，一起三四点起来一起出发。&lt;/p&gt;
&lt;p&gt;晚上本应该早睡的，还是在听广播，意料之外发现很多不错的播客。&lt;/p&gt;
&lt;h2 id=&#34;201910&#34;&gt;2019/10&lt;/h2&gt;
&lt;h3 id=&#34;1031&#34;&gt;10/31&lt;/h3&gt;
&lt;p&gt;上午有去听胖胖他们的编译原理。像pringle小胡子的老师，很有激情。&lt;/p&gt;
&lt;p&gt;下午体育课很热。上完课去买了悸动的芋泥珍奶然后上形势与政策，老师特有意思。想去俄罗斯！想看梵蒂冈的教堂！&lt;/p&gt;
&lt;p&gt;晚上又去听了英语口译课。写算法的实验报告。&lt;/p&gt;
&lt;p&gt;晚上回来和逸菲周瑜开心地泡泡面吃。&lt;/p&gt;
&lt;h3 id=&#34;1028&#34;&gt;10/28&lt;/h3&gt;
&lt;p&gt;中午和慧慧去吃分米鸡。白吃真划算。&lt;/p&gt;
&lt;p&gt;买奶茶。逛了会儿街。人很少嘻嘻。&lt;/p&gt;
&lt;p&gt;去教学楼写数据库实验。&lt;/p&gt;
&lt;p&gt;晚上乱入了电影赏析课（大概412），放了《大河恋》，好治愈的风光。像诗一样美。想起高中放学看教父。&lt;/p&gt;
&lt;p&gt;最亲近的人也许反而是我们最不了解的人，而我们完全可以完整地爱我们并不完整了解的人。&lt;/p&gt;
&lt;p&gt;I&amp;rsquo;m haunted by the waters.&lt;/p&gt;
&lt;h3 id=&#34;1027&#34;&gt;10/27&lt;/h3&gt;
&lt;p&gt;和燕南去看少年的你。喜欢秋天的北京。金黄的。凉爽的。还有湛蓝的。&lt;/p&gt;
&lt;p&gt;买了元气水。看完去牡丹园吃姥姥家春饼。之前还买了烧饼。香辣肉丝，炒合菜，酥炸里脊。好撑，吃不完还打包了。&lt;/p&gt;
&lt;h3 id=&#34;1023&#34;&gt;10/23&lt;/h3&gt;
&lt;p&gt;今日，宜洒脱&lt;/p&gt;
&lt;p&gt;洒脱不起来呢&lt;/p&gt;
&lt;p&gt;好害怕好害怕，我真的好害怕&lt;/p&gt;
&lt;p&gt;夜里无星 你是银河的雏形 我是黑矮星 哈我在看傅里叶级数&lt;/p&gt;
&lt;h3 id=&#34;1022&#34;&gt;10/22&lt;/h3&gt;
&lt;p&gt;上午吃多了。终于尝到了烧卖，但没那么好吃。&lt;/p&gt;
&lt;p&gt;我好差劲。&lt;/p&gt;
&lt;p&gt;又听剩余价值 阿迪契 女性 人类 主义是好的，但主义会伤害主体性 其实是想争取更多的中间派 不想代入gender war 性别并不是对立的&lt;/p&gt;
&lt;p&gt;听isamoz 讲爱尔兰的克莱尔吉根 走在蓝色的田野上 南极 哇 蓝蓝的 纯净的 高密度的文学&lt;/p&gt;
&lt;p&gt;还想看托宾&lt;/p&gt;
&lt;h3 id=&#34;1014&#34;&gt;10/14&lt;/h3&gt;
&lt;p&gt;上午人工智能课见到了熟悉的老师。旁边的同学是很厉害那位。唉。别人是怎么做到正正常常优优雅雅那么优秀的。&lt;/p&gt;
&lt;p&gt;然后去主楼做数据库的实验。下载好慢。后来还出了问题。重装。&lt;/p&gt;
&lt;p&gt;佛了，说chrome内核已经最新了怎么打不开学工系统。原来user-agent switcher得关了&amp;hellip;&lt;/p&gt;
&lt;p&gt;中午吃完石锅拌饭去超市，回来还买了糯米的糖葫芦。&lt;/p&gt;
&lt;p&gt;晚上回来后很难过。为什么别人可以积极地具有攻击性地去追求去生活呢。&lt;/p&gt;
&lt;h3 id=&#34;1012&#34;&gt;10/12&lt;/h3&gt;
&lt;p&gt;结果也没做多少事。&lt;/p&gt;
&lt;p&gt;晚上去中关村吃桃山旬野菜村。其实挺温馨的。也一直在笑。&lt;/p&gt;
&lt;p&gt;掉筷子。椰蓉鸡汤的锅底。把刺身还有蛋都下到锅里。生的刺身吃起来像椰果。还拍了合照。&lt;/p&gt;
&lt;p&gt;晚上回来和妈妈打电话。希望自己可以自视更高一点。&lt;/p&gt;
&lt;h3 id=&#34;1011&#34;&gt;10/11&lt;/h3&gt;
&lt;p&gt;下午后来果然还是翘了编译原理后两节。&lt;/p&gt;
&lt;p&gt;听剩余价值&lt;/p&gt;
&lt;p&gt;旅行 知识癖&lt;/p&gt;
&lt;p&gt;被曾经的描述，被文化所淹没的地点 文学界的打卡&lt;/p&gt;
&lt;h3 id=&#34;1010&#34;&gt;10/10&lt;/h3&gt;
&lt;p&gt;改算法的代码。坐在四楼那个明亮的教室。&lt;/p&gt;
&lt;p&gt;博尔赫斯 富内斯 遗忘的重要性 只有遗忘才能更好地抽象出真正对自己重要的事情&lt;/p&gt;
&lt;p&gt;必读书 不必读&lt;/p&gt;
&lt;p&gt;信息量小 罪恶感&lt;/p&gt;
&lt;p&gt;晚上骑车去深影那，吃了赤焰烤肉。还有和牛炒饭，还有果子。&lt;/p&gt;
&lt;p&gt;回来买了烧仙草。&lt;/p&gt;
&lt;p&gt;然后一直在聊天，一起去洗澡。&lt;/p&gt;
&lt;p&gt;晚上吃燕南的瓜。哇，深情。哇，青梅竹马。哇，意难平。&lt;/p&gt;
&lt;h3 id=&#34;109&#34;&gt;10/9&lt;/h3&gt;
&lt;p&gt;上午操作系统溜了。在旁边听数据分析。熟悉的anaconda.&lt;/p&gt;
&lt;p&gt;向下兼容，找一个自己的子集。物化别人，但并不希望自己被物化。（用硬条件征婚，但也许并不希望被人单纯因为这些外在条件跟自己在一起）&lt;/p&gt;
&lt;p&gt;社会达尔文主义。工具理性在择偶，为什么高知女性被污名化（教育资源，软的无形的影响，育儿优势）？社会刻板印象，男强女弱。&lt;/p&gt;
&lt;p&gt;社会 符号 恋爱也许也是这样&lt;/p&gt;
&lt;p&gt;烟草卡片的故事 那时候我在抄征文投稿 中午的教室超级舒服&lt;/p&gt;
&lt;p&gt;慢慢地，会自然的吧。&lt;/p&gt;
&lt;h3 id=&#34;107&#34;&gt;10/7&lt;/h3&gt;
&lt;p&gt;在教学楼依旧几乎什么都没干。&lt;/p&gt;
&lt;p&gt;下午回来宿舍了。本来准备去西直门的，后来还是算了。&lt;/p&gt;
&lt;p&gt;在超市慢慢地逛。买了黑糖红豆的麻薯。&lt;/p&gt;
&lt;p&gt;喜欢北京的秋天。&lt;/p&gt;
&lt;p&gt;想吃糖炒栗子哇。在路上边走边吃。糖炒的甜味和栗子香都能闻得见。&lt;/p&gt;
&lt;p&gt;想走胡同。想起城南旧事了。&lt;/p&gt;
&lt;p&gt;在寝室呆了会儿。悠闲。突然觉得窝在床上看点剧挺好的，不知道温柔时刻好不好看。富良野的雪。暖炉。森林。nino的灵气。想陷进被窝里，柔柔软软地。&lt;/p&gt;
&lt;p&gt;晚上叫了燕南一起去南门吃水煮鱼。坐在外面。旁边的咖喱屋很香，看起来也很好吃。&lt;/p&gt;
&lt;p&gt;啊悠闲。喜欢坐在外面。&lt;/p&gt;
&lt;p&gt;回来睡了一会儿。&lt;/p&gt;
&lt;h3 id=&#34;105&#34;&gt;10/5&lt;/h3&gt;
&lt;p&gt;昨天晚上睡得很晚。&lt;/p&gt;
&lt;p&gt;在教室里看香水。但是目前嘛，最喜欢的香水是蓝月亮（笑）。&lt;/p&gt;
&lt;p&gt;神奇。今天完全就是秋高气爽的天气了，很不错的天气。&lt;/p&gt;
&lt;p&gt;又想起家里那种感觉了。有烧饼那种炊饭的温馨感，又有阳光下晒着的刚洗完的白衣服的洁净洗衣液味道。怀念啊。&lt;/p&gt;
&lt;p&gt;结果这几天全都在写词法分析的实验报告&amp;hellip;&lt;/p&gt;
&lt;p&gt;想念汤包。想念湿润的阴影的树阴的窗前。想念戴春阳的糖炒栗子。想念和妈妈一起走在街上，随处看见糯米团子的蒸汽和清香就想买着吃。&lt;/p&gt;
&lt;p&gt;晚上有在听说小说的花花传奇。南京的作家。还提到了朱文。&lt;/p&gt;
&lt;p&gt;啊，南京。凝滞不动的哀伤。想起以前去拉贝故居那次，也去了南大南师大，附近的道路，墨绿的树荫，灰色的街道，梅花糕，报刊亭。我的高中三年。&lt;/p&gt;
&lt;h3 id=&#34;104&#34;&gt;10/4&lt;/h3&gt;
&lt;p&gt;下雨了。很冷。&lt;/p&gt;
&lt;p&gt;继续去一层食堂吃绿豆粥和饺子。&lt;/p&gt;
&lt;p&gt;买了极致小盒牛奶和每日坚果。&lt;/p&gt;
&lt;p&gt;今天空气里的湿润的清冷的气息特别熟悉，让我想起了高中的厕所。&lt;/p&gt;
&lt;p&gt;一直写lex的词法分析。yytext不能strcpy也太坑人了。&lt;/p&gt;
&lt;p&gt;晚上吃完饭买了条德芙黑巧克力。边慢慢走边吃。&lt;/p&gt;
&lt;p&gt;就算是晚上，大片厚层的云把天空映得很白很亮。&lt;/p&gt;
&lt;h3 id=&#34;103&#34;&gt;10/3&lt;/h3&gt;
&lt;p&gt;早上睡到很晚。啃了个苹果，去一层食堂吃绿豆粥和饺子。很慢很慢地吃，离门口近，看春雪。&lt;/p&gt;
&lt;p&gt;时代 意志 偶然&lt;/p&gt;
&lt;p&gt;听剩余价值。婚礼 家长的毕业典礼 钻石的巨大溢价 过多被人为赋予价值 与永恒、一生一世挂钩 女生被鼓励与男生竞争的评价体系到达适婚年龄就崩塌了 在亚洲文化里，婚姻是一种package，无法选择要哪个不要哪个 爱情像特洛伊木马，被攻破后之后的一切都无法阻挡&lt;/p&gt;
&lt;h3 id=&#34;102&#34;&gt;10/2&lt;/h3&gt;
&lt;p&gt;看完了你的鸟儿会唱歌。结尾有种混沌的不够畅快的宿醉天明，朦胧的晨雾的感觉，但又是都市的乱糟糟的什么，但也有清明的眸光。片尾曲响起来，高空的风，宿醉之后的跃动，凉快的冷气的夏日，小时候那种感觉。&lt;/p&gt;
&lt;p&gt;继续听剩余价值。&lt;/p&gt;
&lt;p&gt;俄狄浦斯情结，是结果还是原因。社会的压抑通过家庭这一机制作用于个人。&lt;/p&gt;
&lt;p&gt;心理治疗总有一个目标，一个范本。西方的自由主义。然而并不适用于所有人。西方的疗法是否能解决本土问题。&lt;/p&gt;
&lt;p&gt;男性在场的讨论学术，展示知识，但指向权力，显示控场的能力。被彼得罗或尼诺吸引，他们展示了知识可以作为权力的可能性。但知识可以被权力所用，福柯。只能通过爱情这一种方式去接近男性，接近后又需要竭尽全力去摆脱限制。&lt;/p&gt;
&lt;p&gt;学伴。女性是一种性资源，中国男性的焦虑。&lt;/p&gt;
&lt;p&gt;晚上去食堂的路上打电话给妈妈，他们又是去了合肥又是去了福州玩，早知道回家了唉。&lt;/p&gt;
&lt;p&gt;看了一小会儿夜以继日。&lt;/p&gt;
&lt;p&gt;CP文化 能成为ACE的偶像本身应该就是注重异性目光的，所以有刻意去迎合，本身就大概率会是直的。女性被社会驯化，会更关注女性身体，女性身体本身的美丽也可以成为性快感的一部分。看腐，也许也有掩饰自身的性欲，因为女性的性欲往往被视为可耻的。对纯爱的向往，异性恋有时被各种现实条件裹挟。去性化的纯爱。&lt;/p&gt;
&lt;h3 id=&#34;101&#34;&gt;10/1&lt;/h3&gt;
&lt;p&gt;一天都没干劲。很凝滞。&lt;/p&gt;
&lt;p&gt;上午弄了一下VSCO的专业版。&lt;/p&gt;
&lt;p&gt;早知道回家了呢。&lt;/p&gt;
&lt;p&gt;想读一下韩东。竟然也是南京的。苏童、叶兆言、毕飞宇&amp;hellip;作协体制。自由写作真的很少欸。&lt;/p&gt;
&lt;p&gt;不过听了很久剩余价值，倒是很舒服。&lt;/p&gt;
&lt;p&gt;Me2 强迫站队 以行业抵制的方式处理个人历史 不知情权被剥夺（我也选择当鸵鸟） 普拉斯&amp;amp;特德休斯&lt;/p&gt;
&lt;p&gt;寄生虫 燃烧 一个人代表一个阶级去发声，但并没有真正关注个人生命体验 韩国电影追求暴烈、极致的倾向 我们对日韩本土文化实际上是隔离的，反而需要去亲近拥抱欧美文化（我们所接触的日韩文化事实上已经经过了欧美的过滤） 夜以继日 艺术电影讨论阶级问题，可本质上有意无意还是在服务中产阶级&lt;/p&gt;
&lt;p&gt;家庭原教旨主义&lt;/p&gt;
&lt;p&gt;晚上看了血观音。还看了点你的鸟儿会唱歌。&lt;/p&gt;
&lt;p&gt;大家都在看阅兵，走方阵，做志愿，看烟花。举国同庆。我在干什么呢。&lt;/p&gt;
&lt;p&gt;热闹对我来说有点虚无。激情对我来说没有实根。今天倒是重看了遍北京欢迎你，那倒挺温暖。我喜欢具象的印记。&lt;/p&gt;
&lt;p&gt;热热闹闹。和大家一起。会有很多欢笑和美好回忆吧。希望哪一天可以找到平衡。&lt;/p&gt;
&lt;h2 id=&#34;20199&#34;&gt;2019/9&lt;/h2&gt;
&lt;h3 id=&#34;930&#34;&gt;9/30&lt;/h3&gt;
&lt;p&gt;一上午课。结果也没看见Z。无从证实了，唉。&lt;/p&gt;
&lt;p&gt;中午和慧慧燕南吃了水煮鱼。&lt;/p&gt;
&lt;p&gt;下午和慧慧去新中关和欧美汇逛街。喝奶茶。吃分米鸡。&lt;/p&gt;
&lt;p&gt;晚上回来玩跳一跳。&lt;/p&gt;
&lt;p&gt;想看血观音。想把你的鸟儿会唱歌看完。&lt;/p&gt;
&lt;p&gt;听剩余价值。谈痛经。痛苦的体验是无意义的，分享痛苦本身也无意义，普遍的解决的办法才是目标。忍痛不应该是一种文化中被默认的美德，不痛是一种权利。是否对这方面医学进展的缓慢显示了对女性的忽视。&lt;/p&gt;
&lt;p&gt;为什么基础科学加起来无法解释传统医学（玄学），它是科学、还是一种文化。&lt;/p&gt;
&lt;p&gt;啊，好喜欢听广播。&lt;/p&gt;
&lt;p&gt;伊凡伊里奇之死。想看托尔斯泰。还想看福楼拜。&lt;/p&gt;
&lt;p&gt;想满心喜悦地拥有一套自己认可的译本，高兴地跳起来，无比珍惜它。&lt;/p&gt;
&lt;p&gt;周围的人在各行各业发光。&lt;/p&gt;
&lt;p&gt;自己要加油啊。想成为可以被依靠被当作某一方面的光源的人。&lt;/p&gt;
&lt;p&gt;这么说有点不厚度，但他人痛苦时确实也是他们最丰富的时候。&lt;/p&gt;
&lt;p&gt;“孰知不向边庭苦，纵死犹闻侠骨香。”&lt;/p&gt;
&lt;p&gt;曹植 与吴季重书&lt;/p&gt;
&lt;h3 id=&#34;925&#34;&gt;9/25&lt;/h3&gt;
&lt;p&gt;开始看《春雪》。以前没发现啊，三岛下笔真的精微。&lt;/p&gt;
&lt;h3 id=&#34;922&#34;&gt;9/22&lt;/h3&gt;
&lt;p&gt;昨天晚上做了一个无比丰富生动的梦。但忘了。&lt;/p&gt;
&lt;p&gt;继续来自习。好难过啊，放眼望过去，也看不见你。你也会有这样的感觉吗。其实只要知道你在就好了，能看见就好了，好像有你在的地方就没那么可怕生硬了。总觉得有相似的气质，怀旧而温和的。不过也有不一样的，吸引我的地方。靠谱的，深蓝的什么。&lt;/p&gt;
&lt;p&gt;中午啃那个香蕉面包。结果今天一天又是废人模式。断断续续用手机看凪的新生活。看吧，看着也会烦吧，不上进的丑女孩耽溺于恋爱感情，对他人的依赖&amp;hellip;好讨厌。&lt;/p&gt;
&lt;p&gt;很早去吃了晚饭，大概四点半的样子。吃了石锅拌饭。&lt;/p&gt;
&lt;h3 id=&#34;920&#34;&gt;9/20&lt;/h3&gt;
&lt;p&gt;下午操作系统和编译原理连着上，令人窒息。下次一定翘。&lt;/p&gt;
&lt;p&gt;我终于把那不勒斯四部曲的第三部看完了。混乱而痛苦。&lt;/p&gt;
&lt;p&gt;晚上又排练合唱。&lt;/p&gt;
&lt;h3 id=&#34;915&#34;&gt;9/15&lt;/h3&gt;
&lt;p&gt;早上在床上写邮件。很晚才下来。&lt;/p&gt;
&lt;p&gt;放假最后一天了。&lt;/p&gt;
&lt;p&gt;傍晚的时候，外面还很亮。粉紫的云，亮蓝的天，窗外有什么彩排的声音传过来。教室里也没几个人。一下子想起高中，晚饭到晚自习之间的那段时间，亮亮的，可以和好友一起穿过天桥去操场看他们踢球。&lt;/p&gt;
&lt;p&gt;晚上我的二苏旧居和寿阳公主梅花香到了。很淡。中药的味道。可能我感冒了闻得不真切。&lt;/p&gt;
&lt;p&gt;想回家。&lt;/p&gt;
&lt;p&gt;“一河星，两岸火，川流满夜灯”&lt;/p&gt;
&lt;p&gt;“金陵酒，秦淮歌，十里粉黛香浓”&lt;/p&gt;
&lt;p&gt;“花相逢，浪相送，江天总无穷”&lt;/p&gt;
&lt;p&gt;桨声灯影啊，婉转悠扬碎在波光里&lt;/p&gt;
&lt;p&gt;无尽的法桐，山岚里的林和塔&lt;/p&gt;
&lt;p&gt;现在好像看科研也没有什么神圣光环加持了。一样的。我不知道哪个是对的选择。怎么找到平衡呢。&lt;/p&gt;
&lt;p&gt;我可能一点进步也没有。还是高中那个稀里糊涂的台灯开着小木桌支着穿着棉袄睡着了清晨醒来码字写新概念稿子的那个我。永远迷茫。睡不踏实，无用的忧郁。&lt;/p&gt;
&lt;h3 id=&#34;913&#34;&gt;9/13&lt;/h3&gt;
&lt;p&gt;上午和慧慧去看了柯南。那家电影院很舒适。&lt;/p&gt;
&lt;p&gt;新加坡。柯南换了导演，观感五光十色的。还是喜欢和平和在一起在关西的氛围。&lt;/p&gt;
&lt;p&gt;下午红叶突然说她也在北京，去海淀黄庄见。&lt;/p&gt;
&lt;p&gt;然后在新中关，欧美汇，食宝街那块乱逛。暗下来的天色，树枝里嵌着球形灯，玻璃幕墙，天色树木灯光。&lt;/p&gt;
&lt;p&gt;去新中关的九龙冰室里坐了会儿。红叶突然发现晚上没地方住了，然后兵荒马乱地联系舍友，决定带她去我们宿舍住一晚。&lt;/p&gt;
&lt;p&gt;后来去欧美汇楼上吃了一家西班牙餐厅。罗勒牛排饭，杂菌温泉蛋，西班牙油条，凯撒沙拉。还挺好吃的。让我有点想起在英国的日子。&lt;/p&gt;
&lt;h3 id=&#34;912&#34;&gt;9/12&lt;/h3&gt;
&lt;p&gt;最近一直在看那不勒斯四部曲的第三部。第三部前面讲莉拉的故事的时候，灰蒙蒙的。和第二部的触感完全不一样。放弃把kindle只放在床上看的原则，带出来随身看之后，感觉可以看很多书看很快的样子。&lt;/p&gt;
&lt;p&gt;没睡好。很困。&lt;/p&gt;
&lt;p&gt;唉，别人闪闪发光的，靠谱的，时刻。我不靠谱，我没有立足之本。我用什么打动人呢？可能性？没人需要没有保障的奇迹吧。&lt;/p&gt;
&lt;p&gt;不是痛苦就可以成为苏格拉底的，主动放弃快乐的猪这个选项，大部分人只能做成痛苦的猪罢了。&lt;/p&gt;
&lt;p&gt;快乐的苏格拉底。这种选项，也是有的。&lt;/p&gt;
&lt;p&gt;最近也在听欧丽娟的红楼梦的课。的确很学院派。我的确还是感情用事的那一种。&lt;/p&gt;
&lt;p&gt;懦。缩减自我。不是人们坏，这只是人们的天性而已，在人际交往中得寸进尺。我就是不愿意吭声那种。不卑不亢，算是目标吧。&lt;/p&gt;
&lt;p&gt;还是喜欢一个人自习。这学期有在一点上有进步，不去辩解。不用去说的。那些重要的事，重要的自我，没必要和别人剖析，如果只是因为他们近。我也做不到主动去触碰别人触碰世界。那就由着自己的步伐就好了。&lt;/p&gt;
&lt;p&gt;晚上春花打了电话过来。很搞笑很无语的事。我在自动扶梯上来来回回上上下下。明天就中秋节了呢。其实还挺想和几个朋友聊聊天的。&lt;/p&gt;
&lt;p&gt;没有选择。想开一点好了，这些都是你的选择，只能成为你的选择。&lt;/p&gt;
&lt;h3 id=&#34;911&#34;&gt;9/11&lt;/h3&gt;
&lt;p&gt;喜欢食堂里的绿豆粥配一盘饺子，喜欢饺子蘸醋和辣椒油，有家的味道，很香。&lt;/p&gt;
&lt;p&gt;为什么大家都有生活的底气呢。我好害怕。天气开始变凉了，走向北门的时候，眼睛也不知道因为看了太久书还是屏幕，有些看不清，人流逆着泛过来，就开始无助。妈妈寄了衣服和葱油饼。&lt;/p&gt;
&lt;h3 id=&#34;910&#34;&gt;9/10&lt;/h3&gt;
&lt;p&gt;量子计算。总之是状态的叠加，上帝掷骰子的概率。&lt;/p&gt;
&lt;p&gt;下完雨的北京很凉快空气也好。本部很适合散步。可惜我只能一个人瞎转悠，也聊不了天。不过后来洗完澡和慧慧一起逛超市。老面包明明就是面包刚刚兴起时的老式面包，之前萌萌跟我说是中式原料，西式做法，不记得了，中西结合的什么&amp;hellip;记了好久。&lt;/p&gt;
&lt;p&gt;晚上和胖胖在我们宿舍聊天。胖胖真好。我好不值得被好朋友宠爱。她们好真诚地愿意发现别人的好。有的时候真的就觉得平平淡淡就是真。雨天坐在床上和好友聊天。洗完澡走条人少的路散步，吹吹晚风。我可以安于现状吗。&lt;/p&gt;
&lt;p&gt;也许Z也只是我的想象而已。任何人都是想象。可是想变得可以更坦然一点，不再是以前想变得游刃有余的傲气，而是希望可以站在那个高度去真正实践自己想要的真诚的温和谦卑。不卑不亢。我好像一直游走在卑和亢两个极端，我靠着这种极度的不平衡来时不时滑到中间点调整自己。好不稳。&lt;/p&gt;
- https://imfaye.me/post/dear-diary/ - Faye</description>
        </item>
    
    
    
        <item>
        <title>PAT刷题记录 1038 Recover the Smallest Number</title>
        <link>https://imfaye.me/post/pat-1038/</link>
        <pubDate>Sun, 19 Apr 2020 18:13:57 +0000</pubDate>
        
        <guid>https://imfaye.me/post/pat-1038/</guid>
        <description>PIKA☆NCHI https://imfaye.me/post/pat-1038/ -&lt;p&gt;Recover the Smallest Number&lt;/p&gt;
&lt;!-- raw HTML omitted --&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;background-color:#eed;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-c++&#34; data-lang=&#34;c++&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#1e889b&#34;&gt;#include&lt;/span&gt; &lt;span style=&#34;color:#1e889b&#34;&gt;&amp;lt;iostream&amp;gt;&lt;/span&gt;&lt;span style=&#34;color:#1e889b&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#1e889b&#34;&gt;#include&lt;/span&gt; &lt;span style=&#34;color:#1e889b&#34;&gt;&amp;lt;string.h&amp;gt;&lt;/span&gt;&lt;span style=&#34;color:#1e889b&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#1e889b&#34;&gt;#include&lt;/span&gt; &lt;span style=&#34;color:#1e889b&#34;&gt;&amp;lt;algorithm&amp;gt;&lt;/span&gt;&lt;span style=&#34;color:#1e889b&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#1e889b&#34;&gt;#include&lt;/span&gt; &lt;span style=&#34;color:#1e889b&#34;&gt;&amp;lt;map&amp;gt;&lt;/span&gt;&lt;span style=&#34;color:#1e889b&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#1e889b&#34;&gt;#include&lt;/span&gt; &lt;span style=&#34;color:#1e889b&#34;&gt;&amp;lt;vector&amp;gt;&lt;/span&gt;&lt;span style=&#34;color:#1e889b&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#1e889b&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#8b008b;font-weight:bold&#34;&gt;using&lt;/span&gt; &lt;span style=&#34;color:#8b008b;font-weight:bold&#34;&gt;namespace&lt;/span&gt; std;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;vector&amp;lt;string&amp;gt; num;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#00688b;font-weight:bold&#34;&gt;bool&lt;/span&gt; &lt;span style=&#34;color:#008b45&#34;&gt;cmp1&lt;/span&gt;(string a, string b)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;{
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;	&lt;span style=&#34;color:#00688b;font-weight:bold&#34;&gt;int&lt;/span&gt; la = a.length(), lb = b.length();
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;	string temp;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;	&lt;span style=&#34;color:#8b008b;font-weight:bold&#34;&gt;if&lt;/span&gt; (la == lb)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;		&lt;span style=&#34;color:#8b008b;font-weight:bold&#34;&gt;return&lt;/span&gt; a &amp;lt;= b;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;	&lt;span style=&#34;color:#8b008b;font-weight:bold&#34;&gt;else&lt;/span&gt; &lt;span style=&#34;color:#8b008b;font-weight:bold&#34;&gt;if&lt;/span&gt; (la &amp;lt; lb) &lt;span style=&#34;color:#228b22&#34;&gt;//自己重新定义字符串比较的定义
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#228b22&#34;&gt;&lt;/span&gt;	{
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;		&lt;span style=&#34;color:#8b008b;font-weight:bold&#34;&gt;if&lt;/span&gt; (a.compare(b.substr(&lt;span style=&#34;color:#b452cd&#34;&gt;0&lt;/span&gt;, la)) == &lt;span style=&#34;color:#b452cd&#34;&gt;0&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;		{
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;			temp = b.substr(la) + a;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;			&lt;span style=&#34;color:#8b008b;font-weight:bold&#34;&gt;if&lt;/span&gt; (temp &amp;lt;= b)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;				&lt;span style=&#34;color:#8b008b;font-weight:bold&#34;&gt;return&lt;/span&gt; &lt;span style=&#34;color:#658b00&#34;&gt;false&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;			&lt;span style=&#34;color:#8b008b;font-weight:bold&#34;&gt;else&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;				&lt;span style=&#34;color:#8b008b;font-weight:bold&#34;&gt;return&lt;/span&gt; &lt;span style=&#34;color:#658b00&#34;&gt;true&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;		}
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;		&lt;span style=&#34;color:#8b008b;font-weight:bold&#34;&gt;else&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;			&lt;span style=&#34;color:#8b008b;font-weight:bold&#34;&gt;return&lt;/span&gt; a &amp;lt;= b;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;	}
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;	&lt;span style=&#34;color:#8b008b;font-weight:bold&#34;&gt;else&lt;/span&gt; &lt;span style=&#34;color:#8b008b;font-weight:bold&#34;&gt;if&lt;/span&gt; (la &amp;gt; lb)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;	{
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;		&lt;span style=&#34;color:#8b008b;font-weight:bold&#34;&gt;if&lt;/span&gt; (b.compare(a.substr(&lt;span style=&#34;color:#b452cd&#34;&gt;0&lt;/span&gt;, lb)) == &lt;span style=&#34;color:#b452cd&#34;&gt;0&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;		{
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;			temp = a.substr(lb) + b;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;			&lt;span style=&#34;color:#8b008b;font-weight:bold&#34;&gt;if&lt;/span&gt; (temp &amp;lt;= a)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;				&lt;span style=&#34;color:#8b008b;font-weight:bold&#34;&gt;return&lt;/span&gt; &lt;span style=&#34;color:#658b00&#34;&gt;true&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;			&lt;span style=&#34;color:#8b008b;font-weight:bold&#34;&gt;else&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;				&lt;span style=&#34;color:#8b008b;font-weight:bold&#34;&gt;return&lt;/span&gt; &lt;span style=&#34;color:#658b00&#34;&gt;false&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;		}
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;		&lt;span style=&#34;color:#8b008b;font-weight:bold&#34;&gt;else&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;			&lt;span style=&#34;color:#8b008b;font-weight:bold&#34;&gt;return&lt;/span&gt; a &amp;lt;= b;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;	}
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#00688b;font-weight:bold&#34;&gt;int&lt;/span&gt; &lt;span style=&#34;color:#008b45&#34;&gt;main&lt;/span&gt;()
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;{
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;	&lt;span style=&#34;color:#00688b;font-weight:bold&#34;&gt;int&lt;/span&gt; n;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;	cin &amp;gt;&amp;gt; n;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;	string s;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;	&lt;span style=&#34;color:#8b008b;font-weight:bold&#34;&gt;for&lt;/span&gt; (&lt;span style=&#34;color:#00688b;font-weight:bold&#34;&gt;int&lt;/span&gt; i = &lt;span style=&#34;color:#b452cd&#34;&gt;0&lt;/span&gt;; i &amp;lt; n; ++i)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;	{
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;		cin &amp;gt;&amp;gt; s;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;		num.push_back(s);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;	}
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;	sort(num.begin(), num.end(), cmp1);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;	&lt;span style=&#34;color:#00688b;font-weight:bold&#34;&gt;int&lt;/span&gt; len = num.size();
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;	string ans = &lt;span style=&#34;color:#cd5555&#34;&gt;&amp;#34;&amp;#34;&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;	&lt;span style=&#34;color:#8b008b;font-weight:bold&#34;&gt;for&lt;/span&gt; (&lt;span style=&#34;color:#00688b;font-weight:bold&#34;&gt;int&lt;/span&gt; i = &lt;span style=&#34;color:#b452cd&#34;&gt;0&lt;/span&gt;; i &amp;lt; len; ++i)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;	{
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;		ans += num[i];
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;	}
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;	&lt;span style=&#34;color:#00688b;font-weight:bold&#34;&gt;int&lt;/span&gt; pos = &lt;span style=&#34;color:#b452cd&#34;&gt;0&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;	&lt;span style=&#34;color:#00688b;font-weight:bold&#34;&gt;bool&lt;/span&gt; flag = &lt;span style=&#34;color:#658b00&#34;&gt;false&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;	&lt;span style=&#34;color:#8b008b;font-weight:bold&#34;&gt;for&lt;/span&gt; (&lt;span style=&#34;color:#00688b;font-weight:bold&#34;&gt;int&lt;/span&gt; i = &lt;span style=&#34;color:#b452cd&#34;&gt;0&lt;/span&gt;; i &amp;lt; ans.length(); ++i)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;	{
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;		&lt;span style=&#34;color:#8b008b;font-weight:bold&#34;&gt;if&lt;/span&gt; (ans[i] != &lt;span style=&#34;color:#cd5555&#34;&gt;&amp;#39;0&amp;#39;&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;		{
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;			pos = i;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;			flag = &lt;span style=&#34;color:#658b00&#34;&gt;true&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;			&lt;span style=&#34;color:#8b008b;font-weight:bold&#34;&gt;break&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;		}
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;	}
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;	&lt;span style=&#34;color:#8b008b;font-weight:bold&#34;&gt;if&lt;/span&gt; (flag == &lt;span style=&#34;color:#658b00&#34;&gt;false&lt;/span&gt;) &lt;span style=&#34;color:#228b22&#34;&gt;//要注意全是0的情况！
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#228b22&#34;&gt;&lt;/span&gt;		cout &amp;lt;&amp;lt; &lt;span style=&#34;color:#cd5555&#34;&gt;&amp;#34;0&amp;#34;&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;	&lt;span style=&#34;color:#8b008b;font-weight:bold&#34;&gt;else&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;		cout &amp;lt;&amp;lt; ans.substr(pos);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;	&lt;span style=&#34;color:#8b008b;font-weight:bold&#34;&gt;return&lt;/span&gt; &lt;span style=&#34;color:#b452cd&#34;&gt;0&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;若一长一短且短的那个是长的的前缀，重新定义比较的标准。cmp定义了何时a&amp;lt;b，所以自己根据需要的情况直接返回true或false&lt;/p&gt;
&lt;p&gt;substr的用法：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;s.substr(5)&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;截取从s[5]到结尾&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;s.substr(0,5)&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;从s[0]开始截取5位&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;AC了之后看别人的代码，哭了，我好傻写那么长，直接把比较的标准定义成a+b&amp;lt;b+a就完了&amp;hellip;&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;background-color:#eed;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-c++&#34; data-lang=&#34;c++&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#00688b;font-weight:bold&#34;&gt;bool&lt;/span&gt; &lt;span style=&#34;color:#008b45&#34;&gt;cmp0&lt;/span&gt;(string a, string b) {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#8b008b;font-weight:bold&#34;&gt;return&lt;/span&gt; a + b &amp;lt; b + a;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;- https://imfaye.me/post/pat-1038/ - Faye</description>
        </item>
    
    
    
        <item>
        <title>PAT刷题记录 1033 To Fill or Not to Fill</title>
        <link>https://imfaye.me/post/pat-1033/</link>
        <pubDate>Sun, 19 Apr 2020 18:03:34 +0000</pubDate>
        
        <guid>https://imfaye.me/post/pat-1033/</guid>
        <description>PIKA☆NCHI https://imfaye.me/post/pat-1033/ -&lt;p&gt;很有意思的一道贪心&lt;/p&gt;
&lt;!-- raw HTML omitted --&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;background-color:#eed;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-c++&#34; data-lang=&#34;c++&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#1e889b&#34;&gt;#include&lt;/span&gt; &lt;span style=&#34;color:#1e889b&#34;&gt;&amp;lt;iostream&amp;gt;&lt;/span&gt;&lt;span style=&#34;color:#1e889b&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#1e889b&#34;&gt;#include&lt;/span&gt; &lt;span style=&#34;color:#1e889b&#34;&gt;&amp;lt;string.h&amp;gt;&lt;/span&gt;&lt;span style=&#34;color:#1e889b&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#1e889b&#34;&gt;#include&lt;/span&gt; &lt;span style=&#34;color:#1e889b&#34;&gt;&amp;lt;algorithm&amp;gt;&lt;/span&gt;&lt;span style=&#34;color:#1e889b&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#1e889b&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#8b008b;font-weight:bold&#34;&gt;using&lt;/span&gt; &lt;span style=&#34;color:#8b008b;font-weight:bold&#34;&gt;namespace&lt;/span&gt; std;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#00688b;font-weight:bold&#34;&gt;double&lt;/span&gt; cmax, davg, dall;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#00688b;font-weight:bold&#34;&gt;int&lt;/span&gt; n;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#8b008b;font-weight:bold&#34;&gt;struct&lt;/span&gt; &lt;span style=&#34;color:#008b45;font-weight:bold&#34;&gt;Node&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;{
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;	&lt;span style=&#34;color:#00688b;font-weight:bold&#34;&gt;double&lt;/span&gt; price;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;	&lt;span style=&#34;color:#00688b;font-weight:bold&#34;&gt;double&lt;/span&gt; dis;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}sta[&lt;span style=&#34;color:#b452cd&#34;&gt;505&lt;/span&gt;];
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#00688b;font-weight:bold&#34;&gt;bool&lt;/span&gt; &lt;span style=&#34;color:#008b45&#34;&gt;cmp1&lt;/span&gt;(Node a, Node b)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;{
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;	&lt;span style=&#34;color:#8b008b;font-weight:bold&#34;&gt;return&lt;/span&gt; a.dis &amp;lt; b.dis;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#00688b;font-weight:bold&#34;&gt;int&lt;/span&gt; &lt;span style=&#34;color:#008b45&#34;&gt;main&lt;/span&gt;()
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;{
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;	scanf(&lt;span style=&#34;color:#cd5555&#34;&gt;&amp;#34;%lf%lf%lf%d&amp;#34;&lt;/span&gt;, &amp;amp;cmax, &amp;amp;dall, &amp;amp;davg, &amp;amp;n);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;	&lt;span style=&#34;color:#8b008b;font-weight:bold&#34;&gt;for&lt;/span&gt; (&lt;span style=&#34;color:#00688b;font-weight:bold&#34;&gt;int&lt;/span&gt; i = &lt;span style=&#34;color:#b452cd&#34;&gt;0&lt;/span&gt;; i &amp;lt; n; ++i)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;	{
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;		scanf(&lt;span style=&#34;color:#cd5555&#34;&gt;&amp;#34;%lf%lf&amp;#34;&lt;/span&gt;, &amp;amp;sta[i].price, &amp;amp;sta[i].dis);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;	}
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;	sort(sta, sta + n, cmp1);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;	&lt;span style=&#34;color:#00688b;font-weight:bold&#34;&gt;bool&lt;/span&gt; flag = &lt;span style=&#34;color:#658b00&#34;&gt;false&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;	&lt;span style=&#34;color:#00688b;font-weight:bold&#34;&gt;double&lt;/span&gt; far = &lt;span style=&#34;color:#b452cd&#34;&gt;0&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;	&lt;span style=&#34;color:#00688b;font-weight:bold&#34;&gt;int&lt;/span&gt; ns = &lt;span style=&#34;color:#b452cd&#34;&gt;0&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;	&lt;span style=&#34;color:#00688b;font-weight:bold&#34;&gt;int&lt;/span&gt; i1 = &lt;span style=&#34;color:#b452cd&#34;&gt;0&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;	&lt;span style=&#34;color:#00688b;font-weight:bold&#34;&gt;double&lt;/span&gt; min1 = &lt;span style=&#34;color:#b452cd&#34;&gt;9999999&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;	&lt;span style=&#34;color:#00688b;font-weight:bold&#34;&gt;double&lt;/span&gt; cost = &lt;span style=&#34;color:#b452cd&#34;&gt;0&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;	&lt;span style=&#34;color:#00688b;font-weight:bold&#34;&gt;double&lt;/span&gt; cnow = &lt;span style=&#34;color:#b452cd&#34;&gt;0&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;	&lt;span style=&#34;color:#00688b;font-weight:bold&#34;&gt;double&lt;/span&gt; bestprice;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;	&lt;span style=&#34;color:#8b008b;font-weight:bold&#34;&gt;while&lt;/span&gt; (sta[i1].dis == &lt;span style=&#34;color:#b452cd&#34;&gt;0&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;	{
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;		&lt;span style=&#34;color:#8b008b;font-weight:bold&#34;&gt;if&lt;/span&gt; (sta[i1].price &amp;lt; min1)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;		{
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;			min1 = sta[i1].price;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;			ns = i1;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;			far = cmax * davg;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;			bestprice = sta[i1].price;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;		}
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;		i1++;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;	}
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;	&lt;span style=&#34;color:#8b008b;font-weight:bold&#34;&gt;if&lt;/span&gt; (min1 == &lt;span style=&#34;color:#b452cd&#34;&gt;9999999&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;	{
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;		printf(&lt;span style=&#34;color:#cd5555&#34;&gt;&amp;#34;The maximum travel distance = 0.00&amp;#34;&lt;/span&gt;);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;		&lt;span style=&#34;color:#8b008b;font-weight:bold&#34;&gt;return&lt;/span&gt; &lt;span style=&#34;color:#b452cd&#34;&gt;0&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;	}
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;	&lt;span style=&#34;color:#8b008b;font-weight:bold&#34;&gt;while&lt;/span&gt; (ns &amp;lt; n)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;	{
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;		&lt;span style=&#34;color:#00688b;font-weight:bold&#34;&gt;int&lt;/span&gt; i;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;		&lt;span style=&#34;color:#00688b;font-weight:bold&#34;&gt;int&lt;/span&gt; u = -&lt;span style=&#34;color:#b452cd&#34;&gt;1&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;		&lt;span style=&#34;color:#00688b;font-weight:bold&#34;&gt;double&lt;/span&gt; min = &lt;span style=&#34;color:#b452cd&#34;&gt;9999999&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;		&lt;span style=&#34;color:#8b008b;font-weight:bold&#34;&gt;for&lt;/span&gt; (i = ns + &lt;span style=&#34;color:#b452cd&#34;&gt;1&lt;/span&gt;; sta[i].dis &amp;lt;= far &amp;amp;&amp;amp; i &amp;lt; n; ++i)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;		{
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;			&lt;span style=&#34;color:#8b008b;font-weight:bold&#34;&gt;if&lt;/span&gt; (sta[i].price &amp;lt; min)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;			{
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;				min = sta[i].price;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;				u = i;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;				&lt;span style=&#34;color:#8b008b;font-weight:bold&#34;&gt;if&lt;/span&gt; (min &amp;lt; sta[ns].price) &lt;span style=&#34;color:#228b22&#34;&gt;//这一步超级重要！！！第一个比当前小的，就可以停了！后面有更小的，用现在贵的油跑更多也是浪费！
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#228b22&#34;&gt;&lt;/span&gt;					&lt;span style=&#34;color:#8b008b;font-weight:bold&#34;&gt;break&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;			}
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;		}
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;		&lt;span style=&#34;color:#8b008b;font-weight:bold&#34;&gt;if&lt;/span&gt; (u &amp;gt;= &lt;span style=&#34;color:#b452cd&#34;&gt;0&lt;/span&gt; &amp;amp;&amp;amp; min &amp;lt; sta[ns].price) &lt;span style=&#34;color:#228b22&#34;&gt;//如果下一个比当前便宜，只用加到够跑到下一站的油就够了
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#228b22&#34;&gt;&lt;/span&gt;		{
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;			&lt;span style=&#34;color:#8b008b;font-weight:bold&#34;&gt;if&lt;/span&gt; (cnow &amp;lt; ((sta[u].dis - sta[ns].dis) / davg)) &lt;span style=&#34;color:#228b22&#34;&gt;//因为之前会存在多加油的情况，要判断在那个基础上再加油，解释一下:cnow是当前油量(这里是在更新)
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#228b22&#34;&gt;&lt;/span&gt;			{
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;				cost += ((sta[u].dis - sta[ns].dis) / davg - cnow) * sta[ns].price;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;				cnow = &lt;span style=&#34;color:#b452cd&#34;&gt;0&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;			}
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;			&lt;span style=&#34;color:#8b008b;font-weight:bold&#34;&gt;else&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;			{
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;				cnow -= (sta[u].dis - sta[ns].dis) / davg;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;			}
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;			far = sta[u].dis + cmax * davg;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;			ns = u;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;		}
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;		&lt;span style=&#34;color:#8b008b;font-weight:bold&#34;&gt;else&lt;/span&gt; &lt;span style=&#34;color:#8b008b;font-weight:bold&#34;&gt;if&lt;/span&gt; (u &amp;gt;= &lt;span style=&#34;color:#b452cd&#34;&gt;0&lt;/span&gt; &amp;amp;&amp;amp; min &amp;gt;= sta[ns].price) &lt;span style=&#34;color:#228b22&#34;&gt;//如果下一个反而贵，在当前就加满！
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#228b22&#34;&gt;&lt;/span&gt;		{
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;			&lt;span style=&#34;color:#8b008b;font-weight:bold&#34;&gt;if&lt;/span&gt; (far &amp;gt;= dall) &lt;span style=&#34;color:#228b22&#34;&gt;//事实证明这一步也很重要，结束的条件并不一定都是u==-1(也就是找不到下一个了)，现在就能去终点，且下一站的油费比现在贵，现在就应该停
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#228b22&#34;&gt;&lt;/span&gt;			{
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;				&lt;span style=&#34;color:#8b008b;font-weight:bold&#34;&gt;if&lt;/span&gt; (cnow &amp;lt; ((dall - sta[ns].dis) / davg))
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;				{
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;					cost += ((dall - sta[ns].dis) / davg - cnow) * sta[ns].price;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;				}
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;				printf(&lt;span style=&#34;color:#cd5555&#34;&gt;&amp;#34;%.2f&amp;#34;&lt;/span&gt;, cost);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;				&lt;span style=&#34;color:#8b008b;font-weight:bold&#34;&gt;break&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;			}
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;			cost += (cmax - cnow) * sta[ns].price;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;			cnow = cmax - (sta[u].dis - sta[ns].dis) / davg;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;			far = sta[u].dis + cmax * davg;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;			ns = u;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;		}
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;		&lt;span style=&#34;color:#8b008b;font-weight:bold&#34;&gt;else&lt;/span&gt; &lt;span style=&#34;color:#8b008b;font-weight:bold&#34;&gt;if&lt;/span&gt; (u == -&lt;span style=&#34;color:#b452cd&#34;&gt;1&lt;/span&gt; &amp;amp;&amp;amp; far &amp;gt;= dall)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;		{
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;			&lt;span style=&#34;color:#8b008b;font-weight:bold&#34;&gt;if&lt;/span&gt; (cnow &amp;lt; ((dall - sta[ns].dis) / davg))
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;			{
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;				cost += ((dall - sta[ns].dis) / davg - cnow) * sta[ns].price;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;			}
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;			printf(&lt;span style=&#34;color:#cd5555&#34;&gt;&amp;#34;%.2f&amp;#34;&lt;/span&gt;, cost);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;			&lt;span style=&#34;color:#8b008b;font-weight:bold&#34;&gt;break&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;		}
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;		&lt;span style=&#34;color:#8b008b;font-weight:bold&#34;&gt;else&lt;/span&gt; &lt;span style=&#34;color:#8b008b;font-weight:bold&#34;&gt;if&lt;/span&gt; (u == -&lt;span style=&#34;color:#b452cd&#34;&gt;1&lt;/span&gt; &amp;amp;&amp;amp; far &amp;lt; dall)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;		{
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;			printf(&lt;span style=&#34;color:#cd5555&#34;&gt;&amp;#34;The maximum travel distance = %.2f&amp;#34;&lt;/span&gt;, far);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;			&lt;span style=&#34;color:#8b008b;font-weight:bold&#34;&gt;break&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;		}
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;	}
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;	&lt;span style=&#34;color:#8b008b;font-weight:bold&#34;&gt;return&lt;/span&gt; &lt;span style=&#34;color:#b452cd&#34;&gt;0&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;下一个加油站的选择，不是可到达范围里油费最便宜的，而是第一个比当前加油站油费便宜的！这一步自己刚开始一直是错的orz，典型的想当然&lt;/p&gt;
&lt;p&gt;如果不能找到更便宜的下一站，这一站要加满。&lt;/p&gt;
&lt;p&gt;还有一个点是判断结束的条件，现在可到达终点且之后的都贵，就可以停了。&lt;/p&gt;
- https://imfaye.me/post/pat-1033/ - Faye</description>
        </item>
    
    
    
        <item>
        <title>语言学概论 笔记</title>
        <link>https://imfaye.me/post/linguistics/</link>
        <pubDate>Sun, 05 Apr 2020 16:44:14 +0000</pubDate>
        
        <guid>https://imfaye.me/post/linguistics/</guid>
        <description>PIKA☆NCHI https://imfaye.me/post/linguistics/ -&lt;h1 id=&#34;ch1-语言能力与语言系统&#34;&gt;CH1 语言能力与语言系统&lt;/h1&gt;
&lt;h2 id=&#34;易境性&#34;&gt;易境性&lt;/h2&gt;
&lt;p&gt;动物交流的特点：在场。在场与直接经验。人类不必在场传递经验，关键在语言。通过语言传递知识与经验，不必在场。&lt;/p&gt;
&lt;h2 id=&#34;还原生成性&#34;&gt;还原生成性&lt;/h2&gt;
&lt;p&gt;基于类推原则的还原生成能力。从单词到句子，是一种创造性行为。乔姆斯基：语言是有限规则和单位生成无限的句子。&lt;/p&gt;
&lt;p&gt;还原生成能力：通过有限的句子还原出有限的规则和单位，并通过这些单位生成无限的句子。&lt;/p&gt;
&lt;p&gt;人类语言学习的自然还原能力。只要存在一定数量的句子，不需要人为切分，就可以还原出有限的规则和单位，生产无限的句子。(我们不必看过全部的句子，自然通过对比就实现切分)(小孩是如何自然学习语法的。成人所总结的语法未必是正确的。所以我们希望学习方法论。)&lt;/p&gt;
&lt;p&gt;动物语言能力。呼叫或姿态大多是整体，句子有限。&lt;/p&gt;
&lt;h2 id=&#34;任意性&#34;&gt;任意性&lt;/h2&gt;
&lt;p&gt;语言能力在特定文化中的运用形成语言系统。核心部分：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;基于任意性的符号编码能力&lt;/li&gt;
&lt;li&gt;基于类推性的还原生成能力&lt;/li&gt;
&lt;li&gt;区分两种基本单位的能力(体现为符号的两层性)&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;编码能力：能在任意性原则上把所指和能指结合成符号的能力&lt;/p&gt;
&lt;p&gt;任意性：词的语音形式A和意义B的关系是任意的&lt;/p&gt;
&lt;p&gt;动物语言的形式与意义之间任意性成分很少。&lt;/p&gt;
&lt;p&gt;我们的符号系统里加入的非任意性的成分，不是语言学符号，是象征。&lt;/p&gt;
&lt;p&gt;反对任意性原则的学说可以称为音义关联说。证据：拟声说，右文说。&lt;/p&gt;
&lt;p&gt;拟声不是自然语音的必要条件。声音的临摹，语序的临摹，这两种临摹方式是有限的。&lt;/p&gt;
&lt;p&gt;右文说的本质：引申&lt;/p&gt;
&lt;p&gt;任意性，支持材料：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;同一个概念在不同的语言中声音不一样&lt;/li&gt;
&lt;li&gt;语言中有大量的虚词、抽象词无法象声&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;两层性&#34;&gt;两层性&lt;/h2&gt;
&lt;p&gt;自然语言有两种最基本的单位：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;音位&lt;/p&gt;
&lt;p&gt;区别意义的单位&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;语素&lt;/p&gt;
&lt;p&gt;表达意义的单位&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;两层性的文化功能在于用最少的区别性表达尽可能多的符号。&lt;/p&gt;
&lt;p&gt;两层性意味着可以用有限的手段(主要是语音)产生无限的符号形式(和有限的符号产生无限的符号组合不一样)&lt;/p&gt;
&lt;p&gt;人类自然语音从低到高有音位层、音节层、语素层、词汇层、词组层、句子层。音位系统是区别意义层，语素系统是表达意义层。&lt;/p&gt;
&lt;p&gt;一般认为汉语中有27个音质音位。&lt;/p&gt;
&lt;p&gt;语音是人类社会的一部分。是我们先天还是后天的能力。即使有先天的语言能力，必须有后天的交流环境，语言系统。语言学习关键期。&lt;/p&gt;
&lt;h1 id=&#34;ch2-语言和思维&#34;&gt;CH2 语言和思维&lt;/h1&gt;
- https://imfaye.me/post/linguistics/ - Faye</description>
        </item>
    
    
    
        <item>
        <title>操作系统笔记 CH13 I/O Systems</title>
        <link>https://imfaye.me/post/os13/</link>
        <pubDate>Fri, 28 Feb 2020 13:13:24 +0000</pubDate>
        
        <guid>https://imfaye.me/post/os13/</guid>
        <description>PIKA☆NCHI https://imfaye.me/post/os13/ -&lt;p&gt;the kernel is structured to use device-driver modules.&lt;/p&gt;
&lt;p&gt;device driver为IO子系统提供了统一设备访问接口&lt;/p&gt;
&lt;p&gt;两个趋势：接口日益标准化，设备多样性&lt;/p&gt;
&lt;h2 id=&#34;io-硬件&#34;&gt;IO 硬件&lt;/h2&gt;
&lt;p&gt;port&lt;/p&gt;
&lt;p&gt;bus&lt;/p&gt;
&lt;p&gt;controller&lt;/p&gt;
&lt;p&gt;Controller usually have registers, where device driver places commands, addresses, and data to write, or read data from registers after command execution. Data-in register, data-out register, status register, control register&lt;/p&gt;
&lt;p&gt;设备有地址&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Direct I/O instructions&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Memory-mapped I/O 内存映射IO&lt;/p&gt;
&lt;p&gt;设备控制寄存器 被映射到 处理器的地址空间&lt;/p&gt;
&lt;p&gt;Especially for large address spaces (graphics)&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;IO端口有4种寄存器：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;status&lt;/li&gt;
&lt;li&gt;control&lt;/li&gt;
&lt;li&gt;data-in&lt;/li&gt;
&lt;li&gt;data-out&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Techniques for Performing I/O&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Programmed I/O&lt;/li&gt;
&lt;li&gt;Interrupt-driven I/O&lt;/li&gt;
&lt;li&gt;Direct Memory Access (DMA)&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;polling-轮询&#34;&gt;polling 轮询&lt;/h3&gt;
&lt;p&gt;控制器通过状态寄存器的busy bit显示其状态&lt;/p&gt;
&lt;p&gt;主机通过命令寄存器中的command-ready bit表示其意愿&lt;/p&gt;
&lt;p&gt;busy-waiting / polling 主机不断读状态寄存器直到忙位被清除&lt;/p&gt;
&lt;p&gt;Polling can happen in 3 instruction cycles, Read status, logical-and to extract status bit, branch if not zero&lt;/p&gt;
&lt;h3 id=&#34;interrupts&#34;&gt;interrupts&lt;/h3&gt;
&lt;p&gt;Interrupt-request line&lt;/p&gt;
&lt;p&gt;Interrupt handler receives interrupts. Maskable to ignore or delay some interrupts&lt;/p&gt;
&lt;p&gt;Interrupt vector to dispatch interrupt to correct handler&lt;/p&gt;
&lt;p&gt;中断向量：中断处理程序的内存地址&lt;/p&gt;
&lt;p&gt;计算机设备比向量内地址多。interrupt chaining 中断向量内的每个元素都指向中断处理程序列表的头&lt;/p&gt;
&lt;p&gt;实现了中断优先级&lt;/p&gt;
&lt;p&gt;Interrupt mechanism also used for exceptions&lt;/p&gt;
&lt;p&gt;Good uses: system calls, page fault&lt;/p&gt;
&lt;p&gt;Used for time-sensitive processing, frequent, must be fast.&lt;/p&gt;
&lt;h3 id=&#34;dma&#34;&gt;DMA&lt;/h3&gt;
&lt;p&gt;Requires DMA controller, a special-purpose processor.&lt;/p&gt;
&lt;p&gt;Bypasses CPU to transfer data directly between I/O device and memory.&lt;/p&gt;
&lt;p&gt;Host writes a DMA command block into memory.&lt;/p&gt;
&lt;p&gt;CPU writes the address of this command block to the DMA controller.&lt;/p&gt;
&lt;p&gt;DMA controller operates the memory bus directly, placing address on the bus to perform transfers.&lt;/p&gt;
&lt;p&gt;When the entire transfer is finished, the DMA controller interrupts the CPU.&lt;/p&gt;
&lt;p&gt;Handshaking between the DMA controller and the device controller:&lt;/p&gt;
&lt;p&gt;​	performed via a pair of wires called DMA-request and DMA-acknowledge.&lt;/p&gt;
&lt;p&gt;DMA控制器抓住内存总线时，CPU暂时不能访问主存，但可以访问一级或二级高速缓存中的数据项。&lt;/p&gt;
&lt;p&gt;周期挪用cycle stealing可能放慢CPU计算，但数据传输工作交给DMA控制器改善整体性能&lt;/p&gt;
&lt;p&gt;DVMA (direct virtual memory access) can perform a transfer between two memory-mapped devices
without the intervention of the CPU or the use of main memory. 直接实现两个内存映射设备之间的传输，无需CPU的干涉或使用主存&lt;/p&gt;
&lt;h2 id=&#34;io应用接口&#34;&gt;IO应用接口&lt;/h2&gt;
&lt;p&gt;设备驱动程序层device-driver layer为内核IO子系统隐藏设备控制器之间的差异&lt;/p&gt;
&lt;p&gt;Broadly I/O devices can be grouped by the OS into&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;block IO&lt;/li&gt;
&lt;li&gt;character-stream IO&lt;/li&gt;
&lt;li&gt;memory-mapped file access&lt;/li&gt;
&lt;li&gt;network sockets&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;OS存在后门(escape / back door)，允许应用程序将任何命令透明地传输到设备控制器&lt;/p&gt;
&lt;p&gt;Unix ioctl()&lt;/p&gt;
&lt;h3 id=&#34;块与字符设备&#34;&gt;块与字符设备&lt;/h3&gt;
&lt;h4 id=&#34;block-devices&#34;&gt;Block devices&lt;/h4&gt;
&lt;p&gt;include disk drives&lt;/p&gt;
&lt;p&gt;Commands include read(), write(), seek()&lt;/p&gt;
&lt;p&gt;Raw I/O, direct I/O, or file-system access&lt;/p&gt;
&lt;p&gt;Memory-mapped file access possible&lt;/p&gt;
&lt;p&gt;DMA&lt;/p&gt;
&lt;h4 id=&#34;character-devices&#34;&gt;Character devices&lt;/h4&gt;
&lt;p&gt;include keyboards, mice, serial ports&lt;/p&gt;
&lt;p&gt;Commands include get(), put()&lt;/p&gt;
&lt;h3 id=&#34;网络设备&#34;&gt;网络设备&lt;/h3&gt;
&lt;p&gt;The socket interface, Linux, Unix and Windows&lt;/p&gt;
&lt;p&gt;Includes select functionality: manages a set of sockets&lt;/p&gt;
&lt;h3 id=&#34;clocks-and-timers&#34;&gt;clocks and timers&lt;/h3&gt;
&lt;p&gt;Provide current time, elapsed time, timer&lt;/p&gt;
&lt;p&gt;Programmable interval timer used for timings, periodic interrupts.&lt;/p&gt;
&lt;h3 id=&#34;blocking-io-and-nonblocking-io&#34;&gt;Blocking I/O and Nonblocking I/O&lt;/h3&gt;
&lt;p&gt;Blocking - process suspended until I/O completed&lt;/p&gt;
&lt;p&gt;Nonblocking - I/O call returns as much as available&lt;/p&gt;
&lt;p&gt;Asynchronous - process runs while I/O executes 不必等待IO完成就可立即返回&lt;/p&gt;
&lt;h2 id=&#34;kernel-io-subsystem&#34;&gt;Kernel I/O Subsystem&lt;/h2&gt;
&lt;h3 id=&#34;io-scheduling&#34;&gt;IO scheduling&lt;/h3&gt;
&lt;p&gt;为每个设备维护一个请求队列&lt;/p&gt;
&lt;h3 id=&#34;buffering&#34;&gt;buffering&lt;/h3&gt;
&lt;p&gt;保存两个设备之间 或 设备和应用程序之间 所传输数据的内存区域&lt;/p&gt;
&lt;h3 id=&#34;caching&#34;&gt;caching&lt;/h3&gt;
&lt;p&gt;高速缓存是可以保留数据副本的高速存储器&lt;/p&gt;
&lt;p&gt;buffer可能是数据的唯一副本，而cache只是提供了一个 驻留在其他地方的数据 在高速存储上的一个副本&lt;/p&gt;
&lt;p&gt;有时同一内存区域可同时用作cache和buffer&lt;/p&gt;
&lt;h3 id=&#34;spooling假脱机--device-reservation&#34;&gt;Spooling假脱机 &amp;amp; Device reservation&lt;/h3&gt;
&lt;p&gt;Spooling - hold output for a device&lt;/p&gt;
&lt;p&gt;Device reservation( 预约) - provides exclusive access to a device&lt;/p&gt;
&lt;h3 id=&#34;error-handling&#34;&gt;error handling&lt;/h3&gt;
&lt;p&gt;Most return an error number or code when I/O request fails.&lt;/p&gt;
&lt;p&gt;System error logs hold problem reports&lt;/p&gt;
&lt;h3 id=&#34;io-protection&#34;&gt;IO protection&lt;/h3&gt;
&lt;p&gt;所有IO指令为特权指令&lt;/p&gt;
&lt;p&gt;IO必须通过system call执行&lt;/p&gt;
&lt;h3 id=&#34;内核数据结构&#34;&gt;内核数据结构&lt;/h3&gt;
&lt;p&gt;Kernel keeps state information for I/O components, including open file tables, network connections, character device state.&lt;/p&gt;
&lt;p&gt;Many complex data structures to track buffers, memory allocation, “dirty” blocks.&lt;/p&gt;
&lt;p&gt;Some use object-oriented methods and message passing to implement I/O.&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://raw.githubusercontent.com/bygonexf/Blog-Images/master/1577522127902.png&#34; alt=&#34;&#34;&gt;&lt;/p&gt;
&lt;h2 id=&#34;把io操作转换成硬件操作&#34;&gt;把IO操作转换成硬件操作&lt;/h2&gt;
&lt;p&gt;&lt;img src=&#34;https://raw.githubusercontent.com/bygonexf/Blog-Images/master/1577522223439.png&#34; alt=&#34;&#34;&gt;&lt;/p&gt;
- https://imfaye.me/post/os13/ - Faye</description>
        </item>
    
    
    
        <item>
        <title>操作系统笔记 CH12 Mass-Storage Structure</title>
        <link>https://imfaye.me/post/os12/</link>
        <pubDate>Fri, 28 Feb 2020 13:12:24 +0000</pubDate>
        
        <guid>https://imfaye.me/post/os12/</guid>
        <description>PIKA☆NCHI https://imfaye.me/post/os12/ -&lt;h3 id=&#34;磁盘&#34;&gt;磁盘&lt;/h3&gt;
&lt;p&gt;扇区0是最外面柱面的第一个磁道的第一个扇区。映射先按磁道内扇区顺序，再按柱面内磁道顺序，最后按从外到内的柱面顺序来排序的。&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://raw.githubusercontent.com/bygonexf/Blog-Images/master/1577512929633.png&#34; alt=&#34;&#34;&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://raw.githubusercontent.com/bygonexf/Blog-Images/master/1577513031964.png&#34; alt=&#34;&#34;&gt;&lt;/p&gt;
&lt;p&gt;Head crash results from disk head making contact with the disk surface. Cannot be repaired, the entire disk must be replaced.&lt;/p&gt;
&lt;p&gt;Disks can be removable&lt;/p&gt;
&lt;p&gt;Host controller in computer uses bus to talk to disk controller built into drive or storage array.&lt;/p&gt;
&lt;p&gt;The disk controller operates the disk-drive hardware to carry out the command.&lt;/p&gt;
&lt;p&gt;Disk controllers have a built-in cache. Data transfer at the disk drive happens between the
cache and the disk surface. Data transfer to the host, at fast electronic speeds, occurs between the cache and the host controller.&lt;/p&gt;
&lt;h3 id=&#34;磁带&#34;&gt;磁带&lt;/h3&gt;
&lt;p&gt;长久，存储大量数据。慢&lt;/p&gt;
&lt;h2 id=&#34;磁盘结构&#34;&gt;磁盘结构&lt;/h2&gt;
&lt;p&gt;Disk drives are addressed as large 1-dimensional arrays of logical blocks, where the logical block is the smallest unit of transfer.&lt;/p&gt;
&lt;p&gt;Low-level formatting(低级格式化) creates logical blocks on physical media.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Constant Linear Velocity ( 常数线性周转率)&lt;/p&gt;
&lt;p&gt;the density of bits per track is uniform&lt;/p&gt;
&lt;p&gt;CD-ROM, DVD-ROM&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Constant Angular Velocity ( 常数角周转率)&lt;/p&gt;
&lt;p&gt;the density of bits decreases from inner tracks to outer tracks&lt;/p&gt;
&lt;p&gt;hard disk&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;disk-attachment&#34;&gt;disk attachment&lt;/h2&gt;
&lt;p&gt;计算机访问磁盘存储两种方式&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;通过IO端口(或主机附属存储)&lt;/p&gt;
&lt;p&gt;小系统采用这种方法&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;通过分布式文件系统DFS的远程主机，称为网络附属存储&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;host-attached-storage&#34;&gt;Host-attached storage&lt;/h3&gt;
&lt;p&gt;Is accessed through I/O ports talking to I/O busses&lt;/p&gt;
&lt;p&gt;I/O directed to bus ID, device ID, logical unit (LUN)&lt;/p&gt;
&lt;h3 id=&#34;network-attached-storage-nas&#34;&gt;Network-Attached Storage (NAS)&lt;/h3&gt;
&lt;p&gt;客户通过远程进程调用接口访问NAS&lt;/p&gt;
&lt;p&gt;UNIX中的NFS，windows中的CIFS(Common Internet File System)&lt;/p&gt;
&lt;p&gt;RPCs are carried via TCP or UDP on IP network.&lt;/p&gt;
&lt;p&gt;The NAS unit is usually implemented as a RAID array with software that implements the RPC interface.&lt;/p&gt;
&lt;p&gt;New iSCSI protocol uses IP network protocol to carry the SCSI protocol. Remotely attaching to devices (blocks)&lt;/p&gt;
&lt;h3 id=&#34;storage-area-network-san&#34;&gt;Storage Area Network (SAN)&lt;/h3&gt;
&lt;p&gt;服务器与存储单元之间的私有网络(采用存储协议而非网络协议)&lt;/p&gt;
&lt;p&gt;灵活&lt;/p&gt;
&lt;p&gt;Common in large storage environments.&lt;/p&gt;
&lt;p&gt;Multiple hosts attached to multiple storage arrays – flexible&lt;/p&gt;
&lt;p&gt;SAN is one or more storage arrays Connected to one or more Fiber Channel switches&lt;/p&gt;
&lt;p&gt;Hosts also attach to the switches.&lt;/p&gt;
&lt;p&gt;Storage made available via LUN Masking from specific arrays to specific servers.&lt;/p&gt;
&lt;h2 id=&#34;disk-scheduling&#34;&gt;disk scheduling&lt;/h2&gt;
&lt;p&gt;Minimize seek time&lt;/p&gt;
&lt;p&gt;OS maintains queue of requests, per disk or device.&lt;/p&gt;
&lt;p&gt;controllers have small buffers and can manage a queue of I/O requests.&lt;/p&gt;
&lt;h3 id=&#34;fsfc&#34;&gt;FSFC&lt;/h3&gt;
&lt;h3 id=&#34;sstf-shortest-seek-time-first&#34;&gt;SSTF Shortest Seek Time First&lt;/h3&gt;
&lt;p&gt;starvation&lt;/p&gt;
&lt;h3 id=&#34;scan--elevator&#34;&gt;SCAN / elevator&lt;/h3&gt;
&lt;p&gt;到达另一端时，磁头改变方向&lt;/p&gt;
&lt;h3 id=&#34;c-scan&#34;&gt;C-SCAN&lt;/h3&gt;
&lt;p&gt;当磁头移到另一端时，会马上返回磁盘开始。将柱面当成环链&lt;/p&gt;
&lt;h3 id=&#34;look&#34;&gt;LOOK&lt;/h3&gt;
&lt;p&gt;磁头只移动到一个方向上最远的请求为止&lt;/p&gt;
&lt;h3 id=&#34;c-look&#34;&gt;C-LOOK&lt;/h3&gt;
&lt;h3 id=&#34;磁盘调度算法的选择&#34;&gt;磁盘调度算法的选择&lt;/h3&gt;
&lt;p&gt;SSTF is common and has a natural appeal&lt;/p&gt;
&lt;p&gt;SCAN and C-SCAN对磁盘负荷大的系统执行较好，不会有starvation&lt;/p&gt;
&lt;p&gt;Requests for disk service can be influenced by the file-allocation method.&lt;/p&gt;
&lt;p&gt;The disk-scheduling algorithm should be written as a separate module of the operating system, allowing it to be replaced with a different algorithm if necessary.&lt;/p&gt;
&lt;p&gt;Either SSTF or LOOK is a reasonable choice for the default algorithm.&lt;/p&gt;
&lt;h2 id=&#34;磁盘管理&#34;&gt;磁盘管理&lt;/h2&gt;
&lt;h3 id=&#34;磁盘格式化-disk-formatting&#34;&gt;磁盘格式化 disk formatting&lt;/h3&gt;
&lt;p&gt;低级格式化/物理格式化：将磁盘分成扇区以便磁盘控制器能读能写。为每个扇区采用特殊的数据结构。The data structure typically consists of a header(sector #), a data area, and a trailer(ECC, error correction code) 扇区通常512B，但可选&lt;/p&gt;
&lt;p&gt;OS需要将自己的数据结构记录在磁盘上&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;将磁盘分为由一个或多个柱面组成的分区。将每个分区作为一个逻辑磁盘。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Logical formatting逻辑格式化&lt;/p&gt;
&lt;p&gt;创建文件系统&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;为了提高效率，大多数OS将块集中到一大块，称作簇(cluster)。磁盘IO通过块完成，文件系统IO通过簇完成&lt;/p&gt;
&lt;p&gt;raw disk生磁盘：将磁盘分区作为一个逻辑块的大顺序数组，没有任何文件系统数据结构&lt;/p&gt;
&lt;p&gt;raw disk可用作swap space&lt;/p&gt;
&lt;p&gt;对该数组的IO称作raw IO&lt;/p&gt;
&lt;p&gt;有些数据库系统比较喜欢raw IO&lt;/p&gt;
&lt;h3 id=&#34;boot-block-引导块&#34;&gt;boot block 引导块&lt;/h3&gt;
&lt;p&gt;bootstrap程序应找到磁盘上的操作系统内核，装入内存，并转到起始地址，从而开始OS的执行&lt;/p&gt;
&lt;p&gt;bootstrap保存在ROM中。不过大多数OS只在ROM中保留bootstrap loader: 进一步从磁盘上调入更完整的bootstrap程序&lt;/p&gt;
&lt;p&gt;完整的bootstrap程序在磁盘的启动块(boot block)上，启动块位于磁盘的固定位置。&lt;/p&gt;
&lt;p&gt;拥有启动分区的磁盘称为boot disk或system disk&lt;/p&gt;
&lt;p&gt;启动扇区 MBR master boot record . Besides boot code, the MBR contains a partition table listing the partitions for the hard disk and a flag indicating which partition the system is to be booted from.&lt;/p&gt;
&lt;p&gt;启动ROM中的代码引导磁盘控制器将启动块读入到内存(此时尚未装入设备驱动程序)&lt;/p&gt;
&lt;p&gt;硬盘分为一个或多个分区，一个分区为boot partition，包含OS和设备驱动程序。该分区的第一个扇区既是boot sector&lt;/p&gt;
&lt;h3 id=&#34;bad-blocks&#34;&gt;bad blocks&lt;/h3&gt;
&lt;p&gt;Controller calculates the ECC and finds the sector is bad. 控制器计算ECC&lt;/p&gt;
&lt;p&gt;An unrecoverable hard error results in lost data.&lt;/p&gt;
&lt;p&gt;对于简单磁盘：坏块可手工处理&lt;/p&gt;
&lt;p&gt;对于复杂磁盘：&lt;/p&gt;
&lt;p&gt;​	控制器维护一个磁盘坏块链表，控制器可用备用块来逻辑地替换坏块 sector sparing(forwarding)&lt;/p&gt;
&lt;p&gt;​	sector slipping&lt;/p&gt;
- https://imfaye.me/post/os12/ - Faye</description>
        </item>
    
    
    
        <item>
        <title>操作系统笔记 CH11 File-System Implementation</title>
        <link>https://imfaye.me/post/os11/</link>
        <pubDate>Fri, 28 Feb 2020 13:11:24 +0000</pubDate>
        
        <guid>https://imfaye.me/post/os11/</guid>
        <description>PIKA☆NCHI https://imfaye.me/post/os11/ -&lt;h2 id=&#34;文件系统结构&#34;&gt;文件系统结构&lt;/h2&gt;
&lt;p&gt;磁盘特点：可以原地重写，可以直接访问任意一块。&lt;/p&gt;
&lt;p&gt;内存和磁盘之间的IO以块为单位。每块为一个或多个扇区。扇区通常为512B&lt;/p&gt;
&lt;p&gt;File system resides on secondary storage (disks) OS通过文件系统存储、定位、提取数据&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://raw.githubusercontent.com/bygonexf/Blog-Images/master/1577502786991.png&#34; alt=&#34;&#34;&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;IO control 最底层&lt;/p&gt;
&lt;p&gt;由device driver 和 Interrupt handlers组成&lt;/p&gt;
&lt;p&gt;实现内存和磁盘之间的信息传输。&lt;/p&gt;
&lt;p&gt;device driver可作为翻译器。输入是高层命令，输出是底层的、硬件特定的命令。命令用于控制hardware controller&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://raw.githubusercontent.com/bygonexf/Blog-Images/master/1577503036078.png&#34; alt=&#34;&#34;&gt;&lt;/p&gt;
&lt;p&gt;device driver控制一类设备&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;basic file system&lt;/p&gt;
&lt;p&gt;Issue generic commands to the appropriate device driver to read and write physical blocks on the disk.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;file-organization module&lt;/p&gt;
&lt;p&gt;将逻辑块地址 转换成 物理块地址&lt;/p&gt;
&lt;p&gt;也包括空闲空间管理器&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;logical file system&lt;/p&gt;
&lt;p&gt;管理metadata，元数据包括文件系统所有结构数据，而不包括实际数据&lt;/p&gt;
&lt;p&gt;管理目录结构&lt;/p&gt;
&lt;p&gt;通过FCB((inodes in UNIX))维护文件结构&lt;/p&gt;
&lt;p&gt;负责保护和安全&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Layering useful for reducing complexity and redundancy, but adds overhead and can decrease performance.&lt;/p&gt;
&lt;p&gt;绝大多数OS支持多个文件系统&lt;/p&gt;
&lt;p&gt;UNIX使用UFS&lt;/p&gt;
&lt;p&gt;标准的Linux文件系统是extende file system&lt;/p&gt;
&lt;h2 id=&#34;文件系统实现&#34;&gt;文件系统实现&lt;/h2&gt;
&lt;p&gt;每个卷的boot control block：从该卷引导OS需要的信息。如果没有OS，该块为空，通常为卷的第一块。UFS称之为boot block，NTFS称之为partition boot sector&lt;/p&gt;
&lt;p&gt;每个卷的volume control blcok：包括卷(或分区)的详细信息，如分区的块数，块的大小&amp;hellip;UFS称之为superblock，NTFS中它存在master file table中&lt;/p&gt;
&lt;p&gt;每个文件系统的目录结构用来组织文件。UFS中包含文件名和相关的inode号，NTFS中它存储在master file table中&lt;/p&gt;
&lt;p&gt;每个文件的FCB。UFS中是inode，NTFS存在master file table中，每个文件占一行&lt;/p&gt;
&lt;h3 id=&#34;in-memory-file-system-structures&#34;&gt;In-Memory File System Structures&lt;/h3&gt;
&lt;p&gt;一个内存中的mount table(partition table)&lt;/p&gt;
&lt;p&gt;一个内存中的director structure cache&lt;/p&gt;
&lt;p&gt;system-wide open-file table: 包括每个打开文件的FCB副本&lt;/p&gt;
&lt;p&gt;per-process open-file table: Contains a pointer to the appropriate entry in the system-wide open-file table.&lt;/p&gt;
&lt;p&gt;buffers hold data blocks from secondary storage.&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://raw.githubusercontent.com/bygonexf/Blog-Images/master/1577507477227.png&#34; alt=&#34;&#34;&gt;&lt;/p&gt;
&lt;p&gt;对于访问打开文件表的索引：UNIX称之为file descriptor，Windows称之为file handle. 只要文件没有关闭，所有文件操作都是通过打开文件表来进行的&lt;/p&gt;
&lt;h3 id=&#34;partitions-and-mounting-分区和安装&#34;&gt;partitions and mounting 分区和安装&lt;/h3&gt;
&lt;p&gt;一个disk可以分为多个partition，一个partition可以横跨多个disk(作为RAID的一种形式比较合适)&lt;/p&gt;
&lt;p&gt;分区可以是&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;raw 没有文件系统&lt;/li&gt;
&lt;li&gt;cooked 含有文件系统&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;引导信息能保存在多个分区中，通常为一组有序块，并作为镜像文件读入内存&lt;/p&gt;
&lt;p&gt;boot loader知道位于引导区的多个文件系统和多个操作系统，一旦装入，它可以引导位于磁盘上的一个操作系统。磁盘可以有多个分区，每个分区包含不同类型的文件系统和不同的操作系统。&lt;/p&gt;
&lt;p&gt;root partiton包括操作系统内核或其他系统文件，在引导时装入内存。&lt;/p&gt;
&lt;p&gt;内存中有Mount table – containing information about file systems that has been mounted.&lt;/p&gt;
&lt;h3 id=&#34;virtual-file-system-vfs&#34;&gt;virtual file system (VFS)&lt;/h3&gt;
&lt;p&gt;Virtual file system (VFS) on most OSes, including Unix, use object-oriented techniques to implement the file system. 用户甚至可以访问位于网络上的操作系统&lt;/p&gt;
&lt;p&gt;VFS allows the same system call interface (the API) to be used for different types of file systems.&lt;/p&gt;
&lt;p&gt;Implements vnodes which hold inodes or network file details.&lt;/p&gt;
&lt;p&gt;The API is to the VFS interface, rather than any specific type of file system.&lt;/p&gt;
&lt;p&gt;多个VFS接口的实现可以共存在同一台机器上&lt;/p&gt;
&lt;p&gt;vnode表示位于整个网络范围内唯一的文件&lt;/p&gt;
&lt;p&gt;Linux has four object types: inode, file, superblock, dentry&lt;/p&gt;
&lt;p&gt;VFS defines a set of operations on the objects that must be implemented.&lt;/p&gt;
&lt;h2 id=&#34;目录实现&#34;&gt;目录实现&lt;/h2&gt;
&lt;h3 id=&#34;linear-list-线性列表&#34;&gt;linear list 线性列表&lt;/h3&gt;
&lt;p&gt;linear search time费时&lt;/p&gt;
&lt;p&gt;sorted list允许binary search&lt;/p&gt;
&lt;p&gt;a balanced tree&lt;/p&gt;
&lt;h3 id=&#34;hash-table&#34;&gt;hash table&lt;/h3&gt;
&lt;p&gt;decreases directory search time&lt;/p&gt;
&lt;p&gt;需要处理collision(两个文件名哈希到相同的位置)：chained-overflow&lt;/p&gt;
&lt;p&gt;Difficulties: fixed size, hash function&lt;/p&gt;
&lt;h2 id=&#34;分配方法&#34;&gt;分配方法&lt;/h2&gt;
&lt;p&gt;how disk blocks are allocated for files&lt;/p&gt;
&lt;h3 id=&#34;contiguous-allocation-连续分配&#34;&gt;Contiguous Allocation 连续分配&lt;/h3&gt;
&lt;p&gt;每个文件在磁盘上占有一组连续的块&lt;/p&gt;
&lt;p&gt;访问连续分配文件所需寻道数最少&lt;/p&gt;
&lt;p&gt;用第一块的磁盘地址和连续块的数量来定义&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://raw.githubusercontent.com/bygonexf/Blog-Images/master/1577509061560.png&#34; alt=&#34;&#34;&gt;&lt;/p&gt;
&lt;p&gt;sequential and direct access&lt;/p&gt;
&lt;p&gt;Best performance in most cases&lt;/p&gt;
&lt;p&gt;问题&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Difficult to find space for a new file: First-fit, best-fit&lt;/li&gt;
&lt;li&gt;External fragmentation&lt;/li&gt;
&lt;li&gt;compaction off-line (downtime) or on-line&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Extent-Based Systems, a modified contiguous allocation scheme 当空间不够时，另一块被称为扩展的连续空间会添加到原来的文件分配中&lt;/p&gt;
&lt;h3 id=&#34;linked-allocation-链接分配&#34;&gt;Linked Allocation 链接分配&lt;/h3&gt;
&lt;p&gt;每个文件是磁盘块的链表&lt;/p&gt;
&lt;p&gt;目录包括文件第一块的指针和最后一块的指针。每一块都有下一块的指针。&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://raw.githubusercontent.com/bygonexf/Blog-Images/master/1577509383605.png&#34; alt=&#34;&#34;&gt;&lt;/p&gt;
&lt;p&gt;没有外部碎片&lt;/p&gt;
&lt;p&gt;只要有空闲块，文件就可以增大&lt;/p&gt;
&lt;p&gt;Disadvantages: 不能随机访问，指针需要空间，不可靠&lt;/p&gt;
&lt;p&gt;对于指针需要空间，解决办法是将多个块组成簇(cluster)，代价是增加了内部碎片&lt;/p&gt;
&lt;h4 id=&#34;fatfile-allocation-table文件分配表&#34;&gt;FAT(file-allocation table)文件分配表&lt;/h4&gt;
&lt;p&gt;used by MS-DOS and OS/2&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://raw.githubusercontent.com/bygonexf/Blog-Images/master/1577510977781.png&#34; alt=&#34;&#34;&gt;&lt;/p&gt;
&lt;p&gt;对FAT采用缓存&lt;/p&gt;
&lt;p&gt;支持直接访问&lt;/p&gt;
&lt;h3 id=&#34;indexed-allocation-索引分配&#34;&gt;Indexed Allocation 索引分配&lt;/h3&gt;
&lt;p&gt;每个文件都有索引块，是一个磁盘块地址的数组&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://raw.githubusercontent.com/bygonexf/Blog-Images/master/1577511076567.png&#34; alt=&#34;&#34;&gt;&lt;/p&gt;
&lt;p&gt;目录条目包括索引块的地址&lt;/p&gt;
&lt;p&gt;支持直接访问&lt;/p&gt;
&lt;p&gt;没有外部碎片&lt;/p&gt;
&lt;p&gt;索引块应该多大&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;linked scheme&lt;/p&gt;
&lt;p&gt;将多个索引块链接起来&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;two-level index&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;combined scheme&lt;/p&gt;
&lt;p&gt;UNIX采用&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;性能&#34;&gt;性能&lt;/h3&gt;
&lt;p&gt;contiguous great for sequential and random&lt;/p&gt;
&lt;p&gt;linked good for sequential, not random&lt;/p&gt;
&lt;p&gt;combine contiguous allocation with indexed allocation by using contiguous allocation for small files (up to three or four blocks), automatically switching to an indexed allocation if the file grows large.&lt;/p&gt;
&lt;h3 id=&#34;free-space-management&#34;&gt;free-space management&lt;/h3&gt;
&lt;p&gt;文件系统需要维护free-space list记录空闲磁盘空间(不一定是链表)&lt;/p&gt;
&lt;h4 id=&#34;bit-map--bit-vector&#34;&gt;bit map / bit vector&lt;/h4&gt;
&lt;p&gt;每块用一位表示。空闲-1，已分配-0&lt;/p&gt;
&lt;p&gt;查找第一个和n个连续空闲块简单高效&lt;/p&gt;
&lt;p&gt;Bit map requires extra space.&lt;/p&gt;
&lt;p&gt;Easy to get contiguous files space.&lt;/p&gt;
&lt;h4 id=&#34;linked-list-链表&#34;&gt;linked list 链表&lt;/h4&gt;
&lt;p&gt;将所有空闲块用链表链接&lt;/p&gt;
&lt;p&gt;将指向第一空闲块的指针缓存在内存&lt;/p&gt;
&lt;p&gt;Cannot get contiguous space easily.&lt;/p&gt;
&lt;h4 id=&#34;grouping&#34;&gt;grouping&lt;/h4&gt;
&lt;p&gt;将n个空闲块的地址存在第一个空闲块里。(前n-1确实为空，最后一块包含另外n个空闲块的地址)&lt;/p&gt;
&lt;p&gt;可以找到大量空闲块&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://raw.githubusercontent.com/bygonexf/Blog-Images/master/1577512314875.png&#34; alt=&#34;&#34;&gt;&lt;/p&gt;
&lt;h4 id=&#34;counting&#34;&gt;counting&lt;/h4&gt;
&lt;p&gt;记录第一块的地址和紧跟第一块的连续的空闲块的数量n&lt;/p&gt;
&lt;p&gt;can be stored in a balanced tree for efficiency&lt;/p&gt;
- https://imfaye.me/post/os11/ - Faye</description>
        </item>
    
    
    
        <item>
        <title>操作系统笔记 CH10 File-System Interface</title>
        <link>https://imfaye.me/post/os10/</link>
        <pubDate>Fri, 28 Feb 2020 13:10:24 +0000</pubDate>
        
        <guid>https://imfaye.me/post/os10/</guid>
        <description>PIKA☆NCHI https://imfaye.me/post/os10/ -&lt;h2 id=&#34;file-concept&#34;&gt;file concept&lt;/h2&gt;
&lt;p&gt;文件：记录在外存上的 相关信息的 具有名称的 集合，逻辑内存的最小分配单元&lt;/p&gt;
&lt;p&gt;通常，文件表示程序和数据&lt;/p&gt;
&lt;p&gt;free form or may be formatted rigidly&lt;/p&gt;
&lt;h3 id=&#34;file-attributes&#34;&gt;file attributes&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;name: human-readable&lt;/li&gt;
&lt;li&gt;identifier: a unique number, non-human-readable name&lt;/li&gt;
&lt;li&gt;type&lt;/li&gt;
&lt;li&gt;location&lt;/li&gt;
&lt;li&gt;size&lt;/li&gt;
&lt;li&gt;protection&lt;/li&gt;
&lt;li&gt;time, date and user identification&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;文件的信息存在directory中，directory也存在外存上&lt;/p&gt;
&lt;p&gt;A directory entry consists of the file&amp;rsquo;s name and its unique id. The id in turn locates the other file attributes.&lt;/p&gt;
&lt;h3 id=&#34;file-operations&#34;&gt;file operations&lt;/h3&gt;
&lt;p&gt;6个基本文件操作：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;create&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;write&lt;/p&gt;
&lt;p&gt;write pointer&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;read&lt;/p&gt;
&lt;p&gt;read pointer&lt;/p&gt;
&lt;p&gt;A per-process current-file-position pointer&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;reposition&lt;/p&gt;
&lt;p&gt;file seek, not need I/O&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;delete&lt;/p&gt;
&lt;p&gt;release file space, erase directory entry&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;truncate&lt;/p&gt;
&lt;p&gt;reset length to 0, release file space&lt;/p&gt;
&lt;p&gt;只删除内容，保留属性&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;基本操作可以组合成其他操作&lt;/p&gt;
&lt;p&gt;Most file operations involve searching the directory for the entry associated with the named file&lt;/p&gt;
&lt;p&gt;首次使用文件时，使用系统调用open()&lt;/p&gt;
&lt;p&gt;OS维护一个包含所有打开文件的信息表(open-file table)。当需要一个文件操作时，通过该表的一个索引指定文件，无需搜索。文件不再使用时，进程可关闭它，OS从open-file table删除这一条目。系统调用create和delete操作的是关闭文件，而不是打开文件。&lt;/p&gt;
&lt;p&gt;系统调用open()返回一个指向open-file table中一个条目的指针。通过使用该指针，而不是真实文件名称，进行所有IO操作。also accept access mode information, such as create, read-only, read-write, append-only, etc.&lt;/p&gt;
&lt;p&gt;close(Fi), move the content of entry Fi in open-file table to directory structure on disk.&lt;/p&gt;
&lt;p&gt;多进程可能同时打开同一文件。OS采用两级内部表。&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Process open-file table, a per-process table&lt;/p&gt;
&lt;p&gt;该进程所使用的文件信息&lt;/p&gt;
&lt;p&gt;单个进程表的每个条目相应地指向整个系统的打开文件表&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;System open-file table, a system-wide table&lt;/p&gt;
&lt;p&gt;包含进程无关信息(如文件在磁盘上的位置，访问日期和文件大小)&lt;/p&gt;
&lt;p&gt;一旦一个进程打开文件，System open-file table会增加相应条目，当另一个进程执行调用open()，在其Process open-file table增加一个条目，并指向System open-file table相应条目&lt;/p&gt;
&lt;p&gt;每个文件有一个open count，记录多少进程打开了该文件。当open count=0，该文件条目可删除。&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;每个打开文件有如下信息：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;file pointer&lt;/p&gt;
&lt;p&gt;pointer to last read/write location&lt;/p&gt;
&lt;p&gt;对每个进程唯一&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;file-open count&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;disk location of file&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;access rights&lt;/p&gt;
&lt;p&gt;每个进程用一个访问模式打开文件&lt;/p&gt;
&lt;p&gt;保存在单个进程打开文件表中&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;文件锁file-locks&#34;&gt;文件锁(file locks)&lt;/h4&gt;
&lt;p&gt;shared lock: 多个进程并发获取&lt;/p&gt;
&lt;p&gt;exclusive lock: 只有一个进程可以获取&lt;/p&gt;
&lt;p&gt;加锁机制：&lt;/p&gt;
&lt;p&gt;mandatory强制：一个进程获得锁，阻止其他进程访问已加锁的文件。access is denied depending on locks held and requested. &amp;ndash; Windows OS.&lt;/p&gt;
&lt;p&gt;advisory建议：processes can find status of locks and decide what to do. &amp;ndash; Unix OS.&lt;/p&gt;
&lt;h3 id=&#34;file-types&#34;&gt;file types&lt;/h3&gt;
&lt;p&gt;实现文件类型的常用技术：在文件名称内包含类型。名称可分为两部分：name , extension&lt;/p&gt;
&lt;p&gt;Some OS, each file has a type, and a creator attribute containing the name of the program that created it.&lt;/p&gt;
&lt;p&gt;UNIX, a magic number stored at the beginning of some files to indicate roughly the type of the file.&lt;/p&gt;
&lt;h2 id=&#34;access-methods&#34;&gt;access methods&lt;/h2&gt;
&lt;p&gt;Criteria for File Organization: Rapid access, Ease of update, Economy of storage, Simple maintenance, Reliability&lt;/p&gt;
&lt;h3 id=&#34;sequential-access-顺序访问&#34;&gt;sequential access 顺序访问&lt;/h3&gt;
&lt;p&gt;基于文件的磁带模型。不仅适用于顺序访问设备，也适用于随机访问设备&lt;/p&gt;
&lt;h3 id=&#34;direct-access-直接访问&#34;&gt;direct access 直接访问&lt;/h3&gt;
&lt;p&gt;文件由固定长度的逻辑记录组成。基于文件的磁盘模型。可立即访问大量信息。数据库常采用这种类型的文件。&lt;/p&gt;
&lt;p&gt;提供的是相对块号。&lt;/p&gt;
&lt;p&gt;对直接访问文件，可容易地模拟顺序访问。反过来很低效。&lt;/p&gt;
&lt;h3 id=&#34;其他访问方式&#34;&gt;其他访问方式&lt;/h3&gt;
&lt;p&gt;通常涉及创建索引&lt;/p&gt;
&lt;h2 id=&#34;directory-structure&#34;&gt;directory structure&lt;/h2&gt;
&lt;p&gt;有时需要在一个磁盘上装多种文件系统&lt;/p&gt;
&lt;p&gt;Disk can be subdivided into partitions.&lt;/p&gt;
&lt;p&gt;Disk or partition can be used：&lt;/p&gt;
&lt;p&gt;​	raw, without a file system, e.g. swap space&lt;/p&gt;
&lt;p&gt;​	formatted with a file system&lt;/p&gt;
&lt;p&gt;Volume: Entity containing file system&lt;/p&gt;
&lt;p&gt;Each volume containing file system also tracks that file system&amp;rsquo;s info in device directory or volume table of contents.&lt;/p&gt;
&lt;p&gt;Disks or partitions can be RAID protected against failure.&lt;/p&gt;
&lt;p&gt;directory可看作符号表，将 文件名 转换成 目录条目&lt;/p&gt;
&lt;p&gt;Both the directory structure and the files reside on disk.&lt;/p&gt;
&lt;h3 id=&#34;single-level-directory&#34;&gt;Single-Level Directory&lt;/h3&gt;
&lt;p&gt;所有文件包含在同一目录中&lt;/p&gt;
&lt;p&gt;必须有唯一名称&lt;/p&gt;
&lt;p&gt;naming problem , grouping problem&lt;/p&gt;
&lt;h3 id=&#34;two-level-directory&#34;&gt;Two-Level Directory&lt;/h3&gt;
&lt;p&gt;为每个用户创建独立目录&lt;/p&gt;
&lt;p&gt;A master file directory(主文件目录MFD) and one user file directory(用户文件目录UFD) for each user.&lt;/p&gt;
&lt;p&gt;UFD内文件名唯一即可&lt;/p&gt;
&lt;p&gt;No grouping capability&lt;/p&gt;
&lt;p&gt;File sharing怎么解决&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Path name. defined by a user name and a file name.&lt;/li&gt;
&lt;li&gt;Special user directory, containing system files.&lt;/li&gt;
&lt;li&gt;Search path, the sequence of directories searched.&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;tree-structured-directories&#34;&gt;Tree-Structured Directories&lt;/h3&gt;
&lt;p&gt;树有根目录，系统内的每个文件都有唯一路径名&lt;/p&gt;
&lt;p&gt;One bit in each entry defines the entry as a file(0) or as a subdirectory(1).&lt;/p&gt;
&lt;p&gt;Grouping Capability&lt;/p&gt;
&lt;p&gt;每个进程有 Current directory (working directory) 当前目录 In accounting file, a pointer/the name of the user&amp;rsquo;s initial directory. Copied to a local variable for this user.&lt;/p&gt;
&lt;p&gt;Absolute path name: 从根开始&lt;/p&gt;
&lt;p&gt;relative path name: 从当前目录开始&lt;/p&gt;
&lt;p&gt;创建子目录/新文件在当前目录下完成&lt;/p&gt;
&lt;p&gt;Deleting a subdirectory&lt;/p&gt;
&lt;p&gt;​	deleting a empty directory. &amp;ndash; MS-DOS 目录不为空不能删除&lt;/p&gt;
&lt;p&gt;​	deleting all files and subdirectories that it contains.&amp;ndash; UNIX 所有该目录的文件和子目录可删除&lt;/p&gt;
&lt;h3 id=&#34;acyclic-graph-directories-无环图&#34;&gt;Acyclic-Graph Directories 无环图&lt;/h3&gt;
&lt;p&gt;树状结构禁止共享文件和目录&lt;/p&gt;
&lt;p&gt;注意这里是共享文件而不是文件复制，共享文件任何改变为其他用户可见&lt;/p&gt;
&lt;p&gt;Ways implementing shared files and subdirectories:&lt;/p&gt;
&lt;p&gt;​	Create a new directory entry, called a link. &amp;ndash; UNIX  link, a pointer to another file or subdirectory. Resolve the link – follow pointer to locate the file.&lt;/p&gt;
&lt;p&gt;​	duplicate all information about shared files in all sharing directories. 问题：维护一致性&lt;/p&gt;
&lt;p&gt;当用户删除文件时就删除，会留下dangling pointer&lt;/p&gt;
&lt;p&gt;​	对于link: Deletion of a link need not affectt he original file. Deletion of the file entry, leaving the links dangling.&lt;/p&gt;
&lt;p&gt;​	对于duplication: File-reference list, Backpointers. 为每个文件保留一个引用列表或引用计数Backpointers, so we can delete all pointers.&lt;/p&gt;
&lt;h3 id=&#34;general-graph-directory&#34;&gt;General Graph Directory&lt;/h3&gt;
&lt;p&gt;允许环存在&lt;/p&gt;
&lt;p&gt;为避免无限循环：强制限制在搜索时所访问目录的次数&lt;/p&gt;
&lt;p&gt;何时可删除？因为有环，就算不存在引用，其引用计数也可能不为0，可能存在自我引用。解决办法：Garbage collection: The first pass, traversing the entire file system, marking everything that can be accessed.  The second pass, collects everything that is not marked onto a list of free space.&lt;/p&gt;
&lt;p&gt;How to avoid cycles? Allow only links to file not subdirectories. Every time a new link is added use a cycle detection algorithm. A simpler algorithm, bypass links during directory traversal.&lt;/p&gt;
&lt;h2 id=&#34;file-system-mounting-文件系统安装&#34;&gt;file system mounting 文件系统安装&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;OS需要知道 设备名称 和 安装点(mount point)&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;OS验证设备是否包含一个有效文件系统(通过device driver读入设备目录，验证目录是否具有期望格式)&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;OS在其目录结构记录下：一个文件系统已安装在给定安装点上&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;Systems impose semantics to clarify functionality.&lt;/p&gt;
&lt;h2 id=&#34;file-sharing&#34;&gt;file sharing&lt;/h2&gt;
&lt;p&gt;多用户需要共享文件&lt;/p&gt;
&lt;p&gt;Sharing may be done through a protection scheme.&lt;/p&gt;
&lt;p&gt;More file and directory attributes are needed: File / directory owner; File / directory user, access rights; File / directory user groups, access rights&lt;/p&gt;
&lt;p&gt;User IDs identify users, allowing permissions and protections to be per-user. Group IDs allow users to be in groups, permitting group access rights.&lt;/p&gt;
&lt;h3 id=&#34;remote-file-system-远程文件系统&#34;&gt;remote file system 远程文件系统&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;通过程序(如ftp)在机器之间进行文件的人工传输&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;distributed file systems (DFS)&lt;/p&gt;
&lt;p&gt;远程目录可从本机上直接访问&lt;/p&gt;
&lt;p&gt;much tighter integration&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;via the World Wide Web(WWW)&lt;/p&gt;
&lt;p&gt;A browser is needed. uses anonymous file exchange.&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h4 id=&#34;client-server-model&#34;&gt;Client-server model&lt;/h4&gt;
&lt;p&gt;allows clients to mount remote file systems from servers.&lt;/p&gt;
&lt;p&gt;Client and user-on-client identification is insecure or complicated.&lt;/p&gt;
&lt;p&gt;​	client can be specified by a network name or other identifier, such as an IP address, Can be spoofed or imitated.&lt;/p&gt;
&lt;p&gt;​	Secure authentication via encrypted keys. Ensuring compatibility of the client and server.&lt;/p&gt;
&lt;p&gt;NFS: standard UNIX client-server file sharing protocol&lt;/p&gt;
&lt;p&gt;CIFS(Common Internet File System): standard Windows protocol, uses active directory&lt;/p&gt;
&lt;p&gt;Standard operating system file calls are translated into remote calls远程调用&lt;/p&gt;
&lt;h4 id=&#34;distributed-information-systems&#34;&gt;Distributed Information Systems&lt;/h4&gt;
&lt;p&gt;Providing unified access to the information needed for remote computing.&lt;/p&gt;
&lt;p&gt;DNS (domain name system) provides host-name-to-network-address translations for entire internet.&lt;/p&gt;
&lt;p&gt;NIS (network information service), yellow pages黄页, centralizes storage of user names, host names, printer information, and the like.&lt;/p&gt;
&lt;p&gt;LDAP (lightweight directory-access protocol), used by industry as a secure distributed naming mechanism. secure single sign-on&lt;/p&gt;
&lt;h4 id=&#34;failure-modes-故障模式&#34;&gt;Failure Modes 故障模式&lt;/h4&gt;
&lt;p&gt;Remote file systems add new failure modes, due to network failure, server failure.&lt;/p&gt;
&lt;p&gt;Recovery from failure can involve state information about status状态信息 of each remote request.&lt;/p&gt;
&lt;p&gt;Stateless protocols such as NFS V3 include all information in each request, allowing easy recovery but less security.&lt;/p&gt;
&lt;p&gt;In NFS V4, it is made stateful&lt;/p&gt;
&lt;h3 id=&#34;consistency-semantics-一致性语义&#34;&gt;Consistency Semantics 一致性语义&lt;/h3&gt;
&lt;p&gt;描述多用户同时访问共享文件时的语义。规定了一个用户所修改的数据何时对另一用户可见。&lt;/p&gt;
&lt;p&gt;由于延迟，不适合类似进程同步那些复杂算法&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;AFS (Andrew File System) implemented complex remote file sharing semantics&lt;/p&gt;
&lt;p&gt;server记录client的动作&lt;/p&gt;
&lt;p&gt;When a client changes a file, the server notifies other clients with a call back promise technique&lt;/p&gt;
&lt;p&gt;一个用户对打开文件的写不能立即被打开同一文件的其他用户看见。一旦文件关闭，其修改只能被以后打开的会话所见。&lt;/p&gt;
&lt;p&gt;多个用户允许对自己的映像进行并发(没有延迟)的读写操作&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;UFS (Unix file system) implements&lt;/p&gt;
&lt;p&gt;一个文件与单个物理映射相关联，该映射作为互斥资源访问。修改立即可见。竞争导致用户进程延迟。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Immutable shared files, declared by its creator. Read-only. 不可修改&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;protection&#34;&gt;protection&lt;/h2&gt;
&lt;p&gt;高层功能可以用系统程序调用低层系统调用实现。保护可以只在低层提供。&lt;/p&gt;
&lt;p&gt;Mode of access: read, write, execute&lt;/p&gt;
&lt;p&gt;为每个文件和目录增加一个访问控制列表ACL(Access-control list)，给定每个用户名及其允许访问的类型&lt;/p&gt;
&lt;p&gt;三种用户类型:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;owner&lt;/li&gt;
&lt;li&gt;group&lt;/li&gt;
&lt;li&gt;universe(public): all other users in the system&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;每个域三个位:RWX. 需要9个位&lt;/p&gt;
- https://imfaye.me/post/os10/ - Faye</description>
        </item>
    
    
    
        <item>
        <title>操作系统笔记 CH9 Virtual Memory</title>
        <link>https://imfaye.me/post/os9/</link>
        <pubDate>Fri, 28 Feb 2020 13:09:24 +0000</pubDate>
        
        <guid>https://imfaye.me/post/os9/</guid>
        <description>PIKA☆NCHI https://imfaye.me/post/os9/ -&lt;h2 id=&#34;background&#34;&gt;background&lt;/h2&gt;
&lt;p&gt;CH8的内存管理方案需要将整个进程放入内存，动态载入只能减轻这一限制&lt;/p&gt;
&lt;p&gt;Code needs to be in memory to execute, but entire program rarely used.&lt;/p&gt;
&lt;p&gt;execute partially-loaded program&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;程序不受现有物理内存大小限制，可以为virtual address space编写程序&lt;/li&gt;
&lt;li&gt;更多程序可以同时执行，CPU利用率增加，而响应时间、周转时间不增加&lt;/li&gt;
&lt;li&gt;载入或交换程序所需IO变少，用户程序运行更快&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Virtual memory – separation of user logical memory from physical memory.&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://raw.githubusercontent.com/bygonexf/Blog-Images/master/1577436249080.png&#34; alt=&#34;&#34;&gt;&lt;/p&gt;
&lt;p&gt;动态内存分配，堆向上增长；子程序调用，栈向下增长。包括洞的虚拟地址空间是稀地址空间。&lt;/p&gt;
&lt;p&gt;Enables sparse address spaces with holes left for growth, dynamically linked libraries, etc.&lt;/p&gt;
&lt;p&gt;Virtual memory allows files and memory to be shared by two or more processes through page sharing.&lt;/p&gt;
&lt;p&gt;虚拟内存实现：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;demand paging&lt;/li&gt;
&lt;li&gt;demand segmentation&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;demand-paging-按需调页&#34;&gt;demand paging 按需调页&lt;/h2&gt;
&lt;p&gt;Lazy swapper: never swaps a page into memory unless that page will be needed.&lt;/p&gt;
&lt;p&gt;swapper对整个进程进行操作，pager只对进程的单个页进行操作&lt;/p&gt;
&lt;p&gt;页表条目，valid-invalid bit: valid-合法也在内存 invalid-无效(不在逻辑地址空间) 或 有效但在磁盘&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://raw.githubusercontent.com/bygonexf/Blog-Images/master/1577443877399.png&#34; alt=&#34;&#34;&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://raw.githubusercontent.com/bygonexf/Blog-Images/master/1577444151280.png&#34; alt=&#34;&#34;&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://raw.githubusercontent.com/bygonexf/Blog-Images/master/1577444186893.png&#34; alt=&#34;&#34;&gt;&lt;/p&gt;
&lt;p&gt;pure demand paging: 只有在需要时才将页调入内存&lt;/p&gt;
&lt;p&gt;单个指令可能访问多个页的内存(一页指令，其他页数据)，一个指令可能产生多个page fault. 不过由于locality of reference, 按需调页的性能还算合理。&lt;/p&gt;
&lt;p&gt;按需调页的硬件支持：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Page table with valid-Invalid bit&lt;/li&gt;
&lt;li&gt;Secondary memory (swap device with swap space)&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;请求调页的关键要求是能够在页错误后instruction restart&lt;/p&gt;
&lt;p&gt;如果页错误在获取操作数时，再次获取指令，再次译码指令，再次获取操作数。&lt;/p&gt;
&lt;p&gt;一个指令可能改变多个不同位置。若源和目的块有重叠，源块可能已修改，不能简单地再次执行。(微码计算试图访问两块的两端；临时寄存器保存覆盖位置的值)&lt;/p&gt;
&lt;p&gt;EAT = (1– p) * memory access time + p * page fault service time&lt;/p&gt;
&lt;p&gt;page fault service time = page fault overhead+[ swap page out ]+swap page in+restart overhead&lt;/p&gt;
&lt;p&gt;处理页错误中断和重新启动进程可以通过仔细编码降低开销&lt;/p&gt;
&lt;p&gt;EAT与页错误率直接相关&lt;/p&gt;
&lt;p&gt;与文件无关的页需要使用交换空间&lt;/p&gt;
&lt;h2 id=&#34;copy-on-write-写时复制&#34;&gt;Copy-on-Write 写时复制&lt;/h2&gt;
&lt;p&gt;fork()使用写时复制技术&lt;/p&gt;
&lt;p&gt;父子进程开始时共享同一页面。这些页面标记为写时复制页(只有可能修改的页需要标记)。如果任一进程对页进行写，创建一个共享页的副本。&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://raw.githubusercontent.com/bygonexf/Blog-Images/master/1577445363016.png&#34; alt=&#34;&#34;&gt;&lt;/p&gt;
&lt;p&gt;COW allows more efficient process creation as only modified pages are copied.&lt;/p&gt;
&lt;p&gt;free pages are allocated from a pool of free pages. 采用按需填零(zero-fill-on-demand)技术分配这些页，需要分配前先填零，因此清除了以前的内容。&lt;/p&gt;
&lt;p&gt;vfork()，不采用copy-on-write，vfork()将父进程挂起，子进程使用父进程的地址空间。如果子进程修改父进程地址空间的任何页， 父进程重启时可见。主要用于子进程被创建后立即调用exec()的情况。比较高效。用于实现UNIX命令行shell的接口。&lt;/p&gt;
&lt;h2 id=&#34;page-replacement&#34;&gt;page replacement&lt;/h2&gt;
&lt;p&gt;Use modify bit (dirty bit) to reduce overhead of page transfers. 不修改的话不需要写回磁盘&lt;/p&gt;
&lt;p&gt;Page replacement completes separation between logical memory and physical memory.&lt;/p&gt;
&lt;p&gt;frame-allocation algorithm&lt;/p&gt;
&lt;p&gt;page replacement algorithm&lt;/p&gt;
&lt;p&gt;reference string: 内存的引用序列&lt;/p&gt;
&lt;h3 id=&#34;fifo&#34;&gt;FIFO&lt;/h3&gt;
&lt;p&gt;Belady&amp;rsquo;s anomaly: 页错误率可能会随着所分配的帧数的增加而增加&lt;/p&gt;
&lt;h3 id=&#34;optmin&#34;&gt;OPT/MIN&lt;/h3&gt;
&lt;p&gt;置换最长时间不会使用的页&lt;/p&gt;
&lt;p&gt;未来知识&lt;/p&gt;
&lt;h3 id=&#34;lru&#34;&gt;LRU&lt;/h3&gt;
&lt;p&gt;最长时间没有使用的页&lt;/p&gt;
&lt;p&gt;By the principle of locality, this should be the page least likely to be referenced in the near future.&lt;/p&gt;
&lt;p&gt;Associates with each page the time of that page’s last use.&lt;/p&gt;
&lt;p&gt;两种可行实现：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;counter&lt;/p&gt;
&lt;p&gt;每个页表项关联一个使用时间域。对每次引用，计数器增加。置换具有最小时间的页。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;stack&lt;/p&gt;
&lt;p&gt;没引用一个页，页就从栈中删除并放在顶部&lt;/p&gt;
&lt;p&gt;No search for replacement, LRU page is at the bottom.&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;lru-approximation-algorithms&#34;&gt;LRU Approximation Algorithms&lt;/h3&gt;
&lt;p&gt;LRU needs special hardware and still slow.所以用近似算法&lt;/p&gt;
&lt;p&gt;页表每项都关联一个reference bit, 每引用一个页(读or写)，引用位被硬件置1&lt;/p&gt;
&lt;h4 id=&#34;reference-bit-algorithm&#34;&gt;Reference bit algorithm&lt;/h4&gt;
&lt;p&gt;When page is referenced, the bit is set to 1 by the hardware.&lt;/p&gt;
&lt;p&gt;Replace the one which is 0 (if one exists).&lt;/p&gt;
&lt;p&gt;Problem ：We do not know the order.&lt;/p&gt;
&lt;h4 id=&#34;additional-reference-bits-algorithm&#34;&gt;Additional-reference-bits algorithm&lt;/h4&gt;
&lt;p&gt;Keep an 8-bit byte for each page in a table in memory.&lt;/p&gt;
&lt;p&gt;规定时间间隔里记录引用位&lt;/p&gt;
&lt;p&gt;At regular intervals, a timer interrupts, OS shifts the reference bit for each page into the high-order bit of its 8- bit byte, shifting the other bits right by 1 bit and discarding the low-order bit.&lt;/p&gt;
&lt;p&gt;将这8位看作无符号整数，置换具有最小值的页&lt;/p&gt;
&lt;h4 id=&#34;second-chance--clock&#34;&gt;Second chance / Clock&lt;/h4&gt;
&lt;p&gt;Basic algorithm: FIFO&lt;/p&gt;
&lt;p&gt;循环队列，指针向前移动直到找到一个引用位为0的页，在向前移动时，清除引用位。&lt;/p&gt;
&lt;p&gt;如果所有位均已设置，会遍历整个队列。成了FIFO&lt;/p&gt;
&lt;h4 id=&#34;enhanced-second-chance-algorithm&#34;&gt;Enhanced Second-Chance Algorithm&lt;/h4&gt;
&lt;p&gt;(reference bit, modify bit)&lt;/p&gt;
&lt;p&gt;(0,0)最好 (0,1) (1,0) (1,1)&lt;/p&gt;
&lt;p&gt;降低IO&lt;/p&gt;
&lt;h3 id=&#34;counting-based-page-replacement&#34;&gt;Counting-based page replacement&lt;/h3&gt;
&lt;p&gt;每个页保留一个用于记录引用次数的计数器。&lt;/p&gt;
&lt;p&gt;LFU: replaces page with the smallest count&lt;/p&gt;
&lt;p&gt;MFU: page with the smallest count was probably just brought in and has yet to be used.&lt;/p&gt;
&lt;h2 id=&#34;page-allocation-帧分配&#34;&gt;page allocation 帧分配&lt;/h2&gt;
&lt;p&gt;分配至少最少数量的帧。必须有足够的帧容纳所有单个指令所引用的页。&lt;/p&gt;
&lt;p&gt;每个进程的帧的最少数量由体系结构决定，最大数量由可用物理内存的数量决定。&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;fixed allocation&lt;/p&gt;
&lt;p&gt;高低优先级一样处理&lt;/p&gt;
&lt;p&gt;when a page fault occurs, one of the pages of that process must be replaced. &amp;ndash; Local replacement&lt;/p&gt;
&lt;p&gt;固定分配必须局部置换(置换自己进程里的页)&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;equal allocation&lt;/p&gt;
&lt;p&gt;n个进程之间分配m个帧，每个m/n帧&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;proportional allocation&lt;/p&gt;
&lt;p&gt;根据进程大小比例地分配内存&lt;/p&gt;
&lt;p&gt;进程pi的虚拟内存大小si&lt;/p&gt;
&lt;p&gt;a i = s i /S * m&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;priority allocation&lt;/p&gt;
&lt;p&gt;Use a proportional allocation scheme using priorities rather than size, or on a combination of size and priority.&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Local replacement:  select for replacement one of its frames&lt;/p&gt;
&lt;p&gt;​	分配每个进程的帧的数量不变&lt;/p&gt;
&lt;p&gt;Global replacement:  select for replacement a frame from a process with lower priority number&lt;/p&gt;
&lt;p&gt;​	易于实现。更好的系统吞吐量，常用。&lt;/p&gt;
&lt;p&gt;​	OS keeps list of free frames.&lt;/p&gt;
&lt;p&gt;​	进程不能控制其页错误率(受其他进程调页行为影响)&lt;/p&gt;
&lt;h2 id=&#34;thrashing-系统颠簸&#34;&gt;thrashing 系统颠簸&lt;/h2&gt;
&lt;p&gt;thrashing: 频繁的页调度行为&lt;/p&gt;
&lt;p&gt;如果一个进程在换页上用的时间多于执行时间，这个进程就在颠簸&lt;/p&gt;
&lt;p&gt;CPU调度程序发现CPU使用率降低，增加多道程序程度&amp;hellip;更多页错误，CPU使用率更低&lt;/p&gt;
&lt;p&gt;颠簸时，为了增加CPU使用率和降低系统颠簸，必须降低多道程序的程度&lt;/p&gt;
&lt;p&gt;采用局部置换，一个进程颠簸不会使其他进程颠簸&lt;/p&gt;
&lt;p&gt;Why does thrashing occur? Σ locality size &amp;gt; total memory size&lt;/p&gt;
&lt;p&gt;using a local (or priority) replacement algorithm, Can limit the effect of thrashing.&lt;/p&gt;
&lt;p&gt;为了防止颠簸，必须提供进程所需的足够多的帧。&lt;/p&gt;
&lt;p&gt;Locality: a set of pages that are actively used together. Process migrates from one locality to another. Localities may overlap.&lt;/p&gt;
&lt;h3 id=&#34;working-set-model-工作集合模型&#34;&gt;Working-Set Model 工作集合模型&lt;/h3&gt;
&lt;p&gt;基于局部性假设&lt;/p&gt;
&lt;p&gt;参数Δ定义working-set window：a fixed number of page references&lt;/p&gt;
&lt;p&gt;Working Set: the set of pages in the most recent Δ page references.&lt;/p&gt;
&lt;p&gt;WSS i (working set size of Process P i ) : (varies in time) the number of pages in Working Set of process P i .&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://raw.githubusercontent.com/bygonexf/Blog-Images/master/1577453374315.png&#34; alt=&#34;&#34;&gt;&lt;/p&gt;
&lt;p&gt;工作集合的精度与Δ的选择有关，太小不能包含整个局部，太大包含多个局部&lt;/p&gt;
&lt;p&gt;总的帧需求量 D =Σ WSS i  总的需求大于帧的数量，会出现颠簸&lt;/p&gt;
&lt;p&gt;OS跟踪每个进程的工作集合，如果D &amp;gt; m，暂停一个进程，该进程的页被写出，且其帧可分配给其他进程&lt;/p&gt;
&lt;p&gt;通过固定定时中断(interval timer)和引用位(reference bit)可以近似模拟工作集合模型&lt;/p&gt;
&lt;h3 id=&#34;page-fault-frequency-schemeppf-页错误频率&#34;&gt;Page-Fault Frequency Scheme(PPF) 页错误频率&lt;/h3&gt;
&lt;p&gt;为所期望的页错误率设置上限和下限。超过上限，为进程分配更多的帧；低于下限，从该进程中移走帧。&lt;/p&gt;
&lt;p&gt;如果页错误率增加且没有可用帧，必须选择一个进程暂停，可将释放的帧分配给具有高页错误率的进程&lt;/p&gt;
- https://imfaye.me/post/os9/ - Faye</description>
        </item>
    
    
  </channel>
</rss> 